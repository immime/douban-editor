var DoubanEditor=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=13)}([function(t,e){t.exports=React},function(t,e){t.exports=Draft},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s,c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),f=r(0),l=n(f),h=r(6),p={position:"absolute",padding:"4px 6px",top:"-20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",lineHeight:1.2,fontSize:"12px",color:"#fff",whiteSpace:"nowrap",borderRadius:"2px"},_=(s={content:"",position:"absolute",left:"50%",bottom:"-4px",marginLeft:"-3px",width:"5px",height:"5px"},a(s,"width",0),a(s,"height",0),a(s,"borderLeft","4px solid rgba(0, 0, 0, 0)"),a(s,"borderRight","4px solid rgba(0, 0, 0, 0)"),a(s,"borderTop","5px solid rgba(0,0,0,0.8)"),s),d=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onMouseEnter=function(t){r.setState({showTip:!0})},r.onMouseLeave=function(t){r.setState({showTip:!1})},r.state={showTip:!1},r}return u(e,t),c(e,[{key:"getTip",value:function(){if(this.state.showTip)return l.default.createElement("div",{style:p},this.props.tip||this.props.label,l.default.createElement("span",{style:_}))}},{key:"getIcon",value:function(){if(this.props.buttonIcons[this.props.label.toLowerCase()])return this.props.buttonIcons[this.props.label.toLowerCase()]}}]),e}(l.default.Component);d.defaultProps={buttonClass:"db-button",buttonIcons:h.ButtonIcons},d.propTypes={tip:l.default.PropTypes.string,label:l.default.PropTypes.string.isRequired};var v=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onToggle=function(t){t.preventDefault(),r.props.onToggle(r.props.style)},r}return u(e,t),c(e,[{key:"render",value:function(){var t=this.props.buttonClass;return this.props.active&&(t+=" actived"),l.default.createElement("span",{className:t,onMouseDown:this.onToggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),this.getIcon())}}]),e}(d),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"clickButton",value:function(){this.props.clickButton&&this.props.clickButton()}},{key:"render",value:function(){return l.default.createElement("span",{className:this.props.buttonClass,onClick:this.clickButton.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),this.getIcon())}}]),e}(d),m=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"onFileChange",value:function(t){t.preventDefault();for(var e=t.target,r=e.files,n=r.length,i=0;i<n;i++)r[i].thumb=window.URL.createObjectURL(r[i]);r=Array.prototype.slice.call(r,0),r=r.filter(function(t){return/image/i.test(t.type)});var o=[],u=!0,a=!1,s=void 0;try{for(var c,f=r[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var l=c.value;o.push(l)}}catch(t){a=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(a)throw s}}this.props.addImage&&this.props.addImage(o)}},{key:"render",value:function(){return l.default.createElement("span",{className:this.props.buttonClass},l.default.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:this.onFileChange.bind(this)}),this.getIcon())}}]),e}(d);t.exports={BaseButton:d,InlineButton:v,UploadButton:m,CommandButton:y}},function(t,e,r){"use strict";var n=r(11);t.exports={DoubanEditor:n.DoubanEditor}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return"atomic"===t.getType()?{component:p,editable:!1}:null}var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(0),f=n(c),l=r(1),h={media:{maxWidth:500,marginLeft:"auto",marginRight:"auto"}},p=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),s(e,[{key:"render",value:function(){var t=l.Entity.get(this.props.block.getEntityAt(0)),e=t.getData(),r=e.src,n=t.getType(),i=void 0;return"audio"===n?i=f.default.createElement("audio",{controls:!0,src:r,style:h.media}):"image"===n?i=f.default.createElement("img",{src:r,style:h.media}):"video"===n&&(i=f.default.createElement("video",{controls:!0,src:r,style:h.media})),i}}]),e}(f.default.Component);t.exports={MediaBlock:p,mediaBlockRenderer:a}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(0),c=n(s),f=r(2),l=[{label:"BOLD",style:"BOLD",tip:"粗体",type:"inline"},{label:"Blockquote",style:"blockquote",tip:"引用",type:"block"},{label:"header",style:"Header",tip:"小标题",type:"inline"},{type:"sep"},{label:"Picture",style:"picture",tip:"上传照片",type:"upload"},{label:"Video",style:"video",tip:"插入视频",type:"command"},{label:"Link",style:"link",tip:"插入链接",type:"command"},{type:"sep"},{label:"Dash",style:"dash",tip:"分割线",type:"inline"},{label:"Enter",style:"enter",tip:"分行 Shift+回车",type:"inline"},{type:"sep"},{label:"preface",tip:"前言",type:"command",command:"showPreface"},{label:"save",tip:"保存",type:"command",command:"showSaveDialog"}],h=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),a(e,[{key:"getInlineButton",value:function(t){var e=!1;if(this.props.editorState){e=this.props.editorState.getCurrentInlineStyle().has(t.style)}return c.default.createElement(f.InlineButton,{buttonItems:this.props.buttonItems,key:t.label,active:e,label:t.label,tip:t.tip,onToggle:this.props.toggleInlineStyle,style:t.style})}},{key:"getBlockButton",value:function(t){var e=this.props.editorState,r=e.getSelection(),n=e.getCurrentContent().getBlockForKey(r.getStartKey()).getType();return c.default.createElement(f.InlineButton,{buttonItems:this.props.buttonItems,key:t.label,active:t.style===n,label:t.label,tip:t.tip,onToggle:this.props.toggleBlockType,style:t.style})}},{key:"getUploadButton",value:function(t){var e=this.props.editorState,r=e.getSelection(),n=e.getCurrentContent().getBlockForKey(r.getStartKey()).getType();return c.default.createElement(f.UploadButton,{buttonItems:this.props.buttonItems,key:t.label,active:t.style===n,label:t.label,tip:t.tip,addImage:this.props.addImage,style:t.style})}},{key:"getButtons",value:function(){for(var t=[],e=0;e<this.props.buttonItems.length;e++){var r=this.props.buttonItems[e];"sep"==r.type?t.push(c.default.createElement("div",{className:"db-sep",key:e})):"inline"==r.type?t.push(this.getInlineButton(r)):"block"==r.type?t.push(this.getBlockButton(r)):"upload"==r.type?t.push(this.getUploadButton(r)):"command"==r.type&&t.push(c.default.createElement(f.CommandButton,{buttonItems:this.props.buttonItems,key:e,label:r.label,tip:r.tip||r.label,clickButton:this.props[r.command],style:r.style}))}return t}},{key:"render",value:function(){return c.default.createElement("div",{className:this.props.className},this.getButtons())}}]),e}(c.default.Component);h.defaultProps={className:"db-controlbar",buttonItems:l},h.propTypes={buttonIcons:c.default.PropTypes.object,buttonItems:c.default.PropTypes.array},t.exports={BUTTON_ITEMS:l,Controlbar:h}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=r(0),o=n(i),u=r(8),a=n(u),s={bold:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcBold"}),preface:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcBook"}),dash:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcDash"}),header:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcHeader"}),blockquote:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcQuote"}),link:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcLink"}),picture:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcPicture"}),video:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcVideo"}),save:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcSave"}),enter:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcEnter"})};t.exports={ButtonIcons:s}},function(t,e,r){"use strict";var n=r(2),i=r(5),o=r(9),u=r(4);t.exports={BaseButton:n.BaseButton,InlineButton:n.InlineButton,UploadButton:n.UploadButton,CommandButton:n.CommandButton,BUTTON_ITEMS:i.BUTTON_ITEMS,Controlbar:i.Controlbar,blockRenderMap:o.blockRenderMap,MediaBlock:u.MediaBlock,extendedBlockRenderMap:o.extendedBlockRenderMap,mediaBlockRenderer:u.mediaBlockRenderer,icons:n.icons}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}Object.defineProperty(e,"__esModule",{value:!0}),e.IcVideo=e.IcSave=e.IcQuote=e.IcPicture=e.IcLink=e.IcHeader=e.IcEnter=e.IcDash=e.IcBook=e.IcBold=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u=r(0),a=n(u),s={IcBold:{className:"Icon--IcBold",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M806.711 623.885c-8.536-23.105-20.755-43.076-36.66-59.913-15.903-16.82-34.925-30.624-57.064-41.393-22.14-10.77-47.08-18.187-74.803-22.222v-2.7c25.94-8.986 47.962-20.222 66.084-33.725 18.105-13.486 32.875-28.773 44.278-45.86s19.688-35.741 24.84-55.98c5.135-20.237 7.719-41.375 7.719-63.413 0-27.423-4.318-52.829-12.937-76.201-8.619-23.372-20.889-44.293-36.794-62.73-15.92-18.439-35.26-34.275-58.032-47.545-22.772-13.269-48.096-23.722-75.936-31.373-10.603-2.7-21.89-5.051-33.826-7.085-11.936-2.017-24.874-3.702-38.793-5.051-13.937-1.351-29.191-2.367-45.762-3.035-16.571-.667-35.027-1.017-55.366-1.017H202.17v901.533h229.677c45.146 0 83.856-1.784 116.165-5.385 32.308-3.584 61.732-9.868 88.29-18.854 34.508-11.67 63.382-26.689 86.621-45.093 23.24-18.404 42.045-38.475 56.432-60.247 14.371-21.772 24.657-44.21 30.858-67.315 6.202-23.106 9.302-45.21 9.302-66.315.001-29.604-4.267-55.976-12.803-79.08zm-555.44-504.021l183.192 1.023c30.408 0 56.799-1.03 79.171.988 22.373 2.033 54.341 4.494 71.346 9.428 34.443 10.336 65.361 28.34 85.047 46.171 24.81 22.473 55.676 76.99 54.856 110.238-1.05 42.651-11.967 83.242-34.413 106.798-23.402 24.56-65.801 48.25-103.163 60.765-13.533 4.373-39.194 7.122-54.558 9.102-15.67 2.034-33.202 4.058-54.674 4.058H251.27V119.864zm506.358 621.644c-4.049 15.275-9.705 30.757-18.995 44.363-9.307 13.605-27.722 41.37-42.98 52.595-15.258 11.226-47.159 35.758-69.095 42.916-20.036 6.696-48.447 16.714-77.062 19.805-28.615 3.108-60.635 4.654-94.011 4.654H251.27V533.886h246.735c27.177 0 49.93.73 68.297 2.15 18.366 1.438 34.69 3.818 49.007 7.157 23.837 5.258 47.843 11.642 63.828 21.197 15.969 9.556 39.08 23.727 48.85 36.374 9.769 12.646 17.71 25.376 24.172 40.919 6.36 15.301 9.518 34.095 9.518 52.248-.001 15.754.003 32.302-4.048 47.577z"}))},IcBook:{className:"Icon--IcBook",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M995.904 28.096C977.728 9.984 953.6 0 928 0H640c-42.752 0-82.944 16.64-113.152 46.848-5.568 5.632-10.24 11.84-14.848 18.112-4.608-6.272-9.28-12.48-14.848-18.112C466.944 16.64 426.752 0 384 0H96C70.336 0 46.272 9.984 28.096 28.096S0 70.4 0 96v736c0 25.6 9.984 49.728 28.096 67.904S70.336 928 96 928h288c25.6 0 49.728 9.984 67.904 28.096S480 998.4 480 1024h64c0-25.6 9.984-49.728 28.096-67.904S614.4 928 640 928h288c25.6 0 49.728-9.984 67.904-28.096S1024 857.6 1024 832V96c0-25.6-9.984-49.728-28.096-67.904zM480 896c-27.584-20.736-60.928-32-96-32H96c-8.576 0-16.576-3.328-22.656-9.344S64 840.512 64 832V96c0-8.512 3.328-16.576 9.344-22.656S87.424 64 96 64h288c25.6 0 49.728 9.984 67.904 28.096S480 134.336 480 160v736zm480-64c0 8.512-3.328 16.576-9.344 22.656S936.576 864 928 864H640c-35.136 0-68.416 11.264-96 32V160c0-25.664 9.984-49.728 28.096-67.904S614.4 64 640 64h288c8.576 0 16.576 3.328 22.656 9.344S960 87.488 960 96v736zM128 256h289.344v-64H128v64zm0 160h289.344v-64H128v64zm0 160h289.344v-64H128v64zm0 160h289.344v-64H128v64zm480.32-480h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64z"}))},IcDash:{className:"Icon--IcDash",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M454.4 416v136H0V416h454.4zm569.6 0v136H569.6V416H1024z"}))},IcEnter:{className:"Icon--IcEnter",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M900 386.016v-192q0-16.992-11.488-28.512t-28-11.488T832 165.504t-12 28.512v192q0 92-64.992 156.992T598.016 608h-340l112.992-112q11.008-12 11.008-28.512t-11.488-28-28-11.488-28.512 12L136 618.016q-12 12-12 28.512t12 28.512l183.008 183.008q12 12 28.512 12t28.512-11.488 12-28-12-28.512L262.016 688.032h336q124.992 0 213.504-88.512t88.512-213.504z"}))},IcHeader:{className:"Icon--IcHeader",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M878.597 77.201c14.696-.388 29.985-.876 45.039-1.356 32.651-1.04 66.413-2.116 92.17-2.116V22.564c-26.571 0-60.749 1.089-93.8 2.143-32.657 1.04-66.425 2.117-92.192 2.117-26.356 0-59.643-1.076-91.833-2.116-32.602-1.054-66.316-2.144-93.508-2.144v51.165c26.366 0 59.66 1.077 91.856 2.116 31.06 1.004 63.126 2.04 89.597 2.136-2.859 14.876-5.151 34.465-6.904 60.55-2.66 39.579-2.947 79.777-2.947 95.25l.258 244.25H215.588V274.53c0-2.532.032-6.202.073-10.796.214-24.127.66-74.328-2.13-120.319-1.71-28.202-4.288-49.38-7.626-65.429 25.434-.061 53.153-1.12 79.985-2.146 27.148-1.037 55.22-2.11 80.284-2.11V22.563c-26.04 0-54.61 1.092-82.239 2.149-27.153 1.036-55.233 2.11-80.307 2.11-27.6 0-62.564-1.077-96.377-2.117-34.2-1.053-69.564-2.142-97.952-2.142v51.165c27.6 0 62.565 1.077 96.378 2.117 15.83.489 31.913.983 47.436 1.375 2.94 9.449 7.434 31.025 9.84 78.13 2.133 41.722 1.75 84.791 1.546 107.93-.043 4.788-.076 8.611-.076 11.25v494.75l.605 34.926c.011 4.264.314 11.551.73 21.565.863 20.785 2.168 52.193 1.855 81.148-.258 23.917-1.565 38.299-2.84 46.762-13.396.409-26.706.957-39.787 1.496-25.172 1.036-51.202 2.109-76.54 2.109v51.165c26.392 0 52.956-1.094 78.645-2.152 25.172-1.037 51.201-2.11 76.537-2.11 27.437 0 55.768 1.07 83.167 2.105 28.097 1.06 57.151 2.156 86.005 2.156v-51.165c-27.889 0-56.453-1.079-84.076-2.12-23.678-.894-48.04-1.813-72.248-2.07 1.132-10.17 1.813-22.186 2.144-36.415.76-32.788-.746-69.043-1.743-93.032-.368-8.863-.686-16.517-.686-19.681l-.604-34.908V529.197h600.797l.294 278.41c0 4.72.087 47.349 3.11 89.789 1.685 23.663 3.832 41.72 6.469 55.635-26.67.088-60.693 1.128-93.642 2.135-34.055 1.042-69.27 2.119-95.659 2.119v51.165c27.172 0 62.784-1.089 97.224-2.143 34.047-1.042 69.255-2.117 95.633-2.117 26.702 0 56.506 1.08 85.328 2.122 29.027 1.051 59.044 2.138 86.207 2.138v-51.165c-26.238 0-55.783-1.07-84.357-2.105-12.624-.457-25.432-.92-38.135-1.301-2.376-8.608-6.062-27.787-8.592-68.51-2.355-37.9-2.422-73.795-2.422-77.791l-.605-573.825c0-13.253.225-47.915 2.308-83.446 2.57-43.806 6.518-64.123 9.052-73.106z"}))},IcLink:{className:"Icon--IcLink",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M260.565 982.329c-40.874 0-82.133-12.018-118.186-37.035l-7.595-5.276C40.718 874.695 17.323 745.003 82.645 650.937l198.13-264.363c31.047-44.743 78.535-75.264 133.134-85.106 54.6-9.87 109.753 2.162 155.321 33.807l7.595 5.262c38.684 26.851 67.342 66.503 80.711 111.644 4.452 15.062-4.139 30.891-19.214 35.343-15.047 4.423-30.877-4.125-35.342-19.215-9.828-33.237-30.095-61.269-58.582-81.038l-7.594-5.262c-33.11-22.997-73.188-31.73-112.797-24.562-39.637 7.154-74.126 29.312-97.11 62.407L128.783 684.203c-46.834 67.47-29.852 161.635 38.457 209.08l7.595 5.277c68.28 47.417 162.46 30.464 209.906-37.831l60.53-87.125c8.974-12.872 26.666-16.057 39.594-7.126 12.885 8.974 16.085 26.695 7.125 39.595l-60.53 87.111c-40.291 58.027-105.087 89.145-170.894 89.145z"}),a.default.createElement("path",{d:"M573.113 725.945c-40.917 0-82.261-12.004-118.372-37.063l-7.651-5.334c-38.656-26.851-67.286-66.474-80.626-111.573-4.452-15.075 4.153-30.89 19.214-35.342 15.118-4.452 30.905 4.139 35.342 19.214 9.814 33.209 30.066 61.227 58.553 81.01l7.652 5.333c68.252 47.389 162.432 30.407 209.877-37.888l198.116-264.39c46.848-67.471 29.866-161.636-38.443-209.082l-7.538-5.19c-33.166-23.055-73.201-31.745-112.867-24.62-39.638 7.154-74.126 29.312-97.11 62.408l-60.515 87.11c-8.96 12.914-26.681 16.1-39.58 7.14s-16.1-26.68-7.14-39.58l60.515-87.111c31.645-45.583 79.133-76.103 133.746-85.945 54.585-9.828 109.767 2.176 155.335 33.834l7.524 5.192c94.151 65.393 117.532 195.086 52.195 289.137L743.225 637.596c-39.893 57.416-104.448 88.349-170.112 88.349z"}),a.default.createElement("path",{d:"M750.364 470.84c-2.972 0-5.959-.924-8.519-2.844-6.286-4.707-7.566-13.624-2.844-19.896l7.794-10.383c4.707-6.286 13.639-7.537 19.897-2.844 6.286 4.707 7.566 13.625 2.844 19.897l-7.794 10.382c-2.787 3.74-7.054 5.689-11.378 5.689zM782.89 427.463c-2.972 0-5.958-.924-8.518-2.844-6.287-4.708-7.567-13.625-2.845-19.897l62.948-83.968c15.09-21.732 20.92-48.555 16.128-75.094-4.793-26.552-19.627-49.65-41.785-65.024l-4.878-3.37c-6.457-4.48-8.064-13.34-3.599-19.798 4.452-6.456 13.312-8.078 19.798-3.598l4.892 3.385c28.402 19.726 47.417 49.323 53.561 83.342s-1.337 68.41-21.049 96.797l-63.246 84.394a14.268 14.268 0 0 1-11.406 5.675z"}))},IcPicture:{className:"Icon--IcPicture",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M35.116 123.86v776.28h960.066V123.86H35.116zm919.236 735.45H76.05V164.69h878.303v694.62z"}),a.default.createElement("path",{d:"M330.545 449.68L653.09 801.697l30.187-27.63-69.584-75.928L730.147 572.17l138.35 138.35 28.858-28.958-168.334-168.334-143.059 154.724-254.19-277.42-198.111 198.932 28.96 28.755z"}),a.default.createElement("path",{d:"M576.343 471.272c45.13 0 81.864-36.736 81.864-81.864 0-44.923-36.734-81.558-81.864-81.558-45.128 0-81.865 36.532-81.865 81.558-.102 45.127 36.636 81.864 81.865 81.864zm0-122.49c22.617 0 41.037 18.216 41.037 40.626 0 22.615-18.42 41.034-41.037 41.034-22.615 0-41.035-18.419-41.035-41.034 0-22.412 18.42-40.625 41.035-40.625z"}))},IcQuote:{className:"Icon--IcQuote",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M128 833.088C128 867.84 157.248 896 193.344 896h212.48c36.096 0 65.28-28.16 65.28-62.912V581.376c0-34.752-29.184-62.912-65.28-62.912H300.8a32.064 32.064 0 0 1-32.64-31.488 30.08 30.08 0 0 1 1.472-9.6c23.808-76.16 84.096-137.216 161.408-164.224l.32-.32c23.36-9.6 39.68-32 39.68-57.92 0-34.752-29.184-62.912-65.28-62.912-8.832 0-17.216 1.728-24.896 4.736l-2.944 1.088C231.744 252.736 128 389.568 128 549.888v283.2zm424.832 0c0 34.752 29.248 62.912 65.408 62.912h212.416C866.752 896 896 867.84 896 833.088V581.376c0-34.752-29.248-62.912-65.344-62.912h-104.96a32.064 32.064 0 0 1-32.64-31.488c0-5.824 1.472-9.6 1.472-9.6 23.872-76.16 84.16-137.216 161.408-164.224l.32-.32c23.424-9.6 39.744-32 39.744-57.92C896 220.16 866.752 192 830.656 192c-8.832 0-17.152 1.728-24.832 4.736l-2.944 1.088c-146.304 54.912-250.048 191.744-250.048 352.064v283.2z"}))},IcSave:{className:"Icon--IcSave",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M931.712 994.939H108.518c-31.636 0-57.349-25.754-57.349-57.344v-824.11c0-31.637 25.708-57.37 57.35-57.37H779.11L989.056 258.56v679.035c0 31.59-25.708 57.344-57.344 57.344zM119.552 105.39c-10.532 0-19.128 8.576-19.128 19.128v801.89c0 10.557 8.601 19.113 19.128 19.113h801.116c10.558 0 19.103-8.561 19.103-19.113V274.39l-179.052-169H119.552z"}),a.default.createElement("path",{d:"M742.15 500.48H199.525V56.115H742.15V500.48zM248.8 451.18H692.88V105.39H248.801v345.79z"}),a.default.createElement("path",{d:"M642.488 376.893h-48.501V130.75h48.501v246.144zM747.407 697.938H217.114c-10.578 0-19.134-13.205-19.134-23.757 0-10.578 8.556-25.303 19.134-25.303h530.288c10.573 0 19.103 14.725 19.103 25.303.005 10.552-8.525 23.757-19.098 23.757zM747.407 796.61H217.114c-10.578 0-19.134-13.173-19.134-23.73s8.556-25.283 19.134-25.283h530.288c10.573 0 19.103 14.725 19.103 25.282s-8.525 23.732-19.098 23.732zM747.407 895.33H217.114c-10.578 0-19.134-13.2-19.134-23.758 0-10.572 8.556-25.303 19.134-25.303h530.288c10.573 0 19.103 14.73 19.103 25.303.005 10.558-8.525 23.757-19.098 23.757z"}))},IcVideo:{className:"Icon--IcVideo",viewBox:"0 0 1309 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M568.889 682.667c6.827 0 12.771-2.703 17.664-6.685l226.844-141.71c6.827-5.205 11.492-13.028 11.492-22.272 0-12.345-7.936-22.585-18.944-26.539L584.932 346.88c-4.665-3.243-9.956-5.575-16.043-5.575-15.73 0-28.445 12.743-28.445 28.444v284.445c0 15.73 12.715 28.473 28.445 28.473zM1194.667 0H113.777C50.945 0 0 50.944 0 113.778v796.444C0 973.056 50.944 1024 113.778 1024h1080.889c62.833 0 113.777-50.944 113.777-113.778V113.778C1308.444 50.944 1257.5 0 1194.667 0zm-512 56.889h256v113.778h-256V56.889zm-312.89 0h256v113.778h-256V56.889zM56.89 113.778c0-31.403 25.486-56.89 56.889-56.89h199.11v113.779h-256v-56.89zm256 853.333H113.778c-31.403 0-56.89-25.458-56.89-56.889v-56.889h256v113.778zm312.889 0h-256V853.333h256v113.778zm312.889 0h-256V853.333h256v113.778zm312.889-56.889c0 31.431-25.458 56.89-56.89 56.89h-199.11V853.332h256v56.89zm0-113.778H56.889V227.556h1194.667v568.888zm0-625.777h-256V56.889h199.11c31.432 0 56.89 25.486 56.89 56.889v56.889z"}))}},c=function(t){var e=t.name,r=t.size,n=t.className,u=t.style,c=i(t,["name","size","className","style"]),f=s[e];if(!f)throw new Error("Cannot find icon '"+e+"'");return a.default.createElement("svg",o({},c,{width:r,height:r,viewBox:f.viewBox,style:o({},u,{width:r,height:r}),className:(n?n+" ":"")+"Icon "+f.className}),f.path)};c.propTypes={name:u.PropTypes.oneOf(Object.keys(e)),className:u.PropTypes.string,size:u.PropTypes.number,style:u.PropTypes.object},c.defaultProps={size:25},e.default=c;e.IcBold=function(t){return a.default.createElement(c,o({},t,{name:"IcBold"}))},e.IcBook=function(t){return a.default.createElement(c,o({},t,{name:"IcBook"}))},e.IcDash=function(t){return a.default.createElement(c,o({},t,{name:"IcDash"}))},e.IcEnter=function(t){return a.default.createElement(c,o({},t,{name:"IcEnter"}))},e.IcHeader=function(t){return a.default.createElement(c,o({},t,{name:"IcHeader"}))},e.IcLink=function(t){return a.default.createElement(c,o({},t,{name:"IcLink"}))},e.IcPicture=function(t){return a.default.createElement(c,o({},t,{name:"IcPicture"}))},e.IcQuote=function(t){return a.default.createElement(c,o({},t,{name:"IcQuote"}))},e.IcSave=function(t){return a.default.createElement(c,o({},t,{name:"IcSave"}))},e.IcVideo=function(t){return a.default.createElement(c,o({},t,{name:"IcVideo"}))}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(0),c=n(s),f=r(12),l=n(f),h=r(1),p=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),e}(c.default.Component),_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("pre",{style:{maxWidth:"100%",overflowX:"auto"}},c.default.createElement("code",null,this.props.children))}}]),e}(p),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("blockquote",null,this.props.children)}}]),e}(p),v=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("figure",null,this.props.children)}}]),e}(p),y=l.default.Map({"code-block":{wrapper:c.default.createElement(_,null)},blockquote:{wrapper:c.default.createElement(d,null)},atomic:{wrapper:c.default.createElement(v,null)}}),m=h.DefaultDraftBlockRenderMap.merge(y);t.exports={CodeWrapper:_,BlockquoteWrapper:d,AtomicWrapper:v,blockRenderMap:y,extendedBlockRenderMap:m}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.getType();return"code-block"===e?"db-code":"blockquote"==e?"db-blockquote":"atomic"==e?"db-picture":void 0}var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(0),f=n(c),l=r(1),h=r(7),p=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.addImage=function(t){r._confirmPictureMedia(t)},r.handleTitleChange=function(t){r.setState({title:t.target.value})},r.state={editorState:l.EditorState.createEmpty(),title:r.props.title||"",showURLInput:!1,url:"",urlType:"",prefaceStatus:!1,summary:r.props.summary||"",mentions:[],placeholder:r.props.placeholder||""},r.focus=function(){return r.refs.editor.focus()},r.onChange=function(t){return r.setState({editorState:t})},r.handleKeyCommand=function(t){return r._handleKeyCommand(t)},r.onTab=function(t){return r._onTab(t)},r.onFocus=function(t){return r._onFocus(t)},r.toggleBlockType=function(t){return r._toggleBlockType(t)},r.toggleInlineStyle=function(t){return r._toggleInlineStyle(t)},r.toggleUploadType=function(t){return r._toggleUploadType(t)},r.onURLChange=function(t){return r.setState({urlValue:t.target.value})},r.logState=function(){r.state.editorState.getCurrentContent()},r.addAudio=r._addAudio.bind(r),r.confirmMedia=r._confirmMedia.bind(r),r.addVideo=r._addVideo.bind(r),r.onURLInputKeyDown=r._onURLInputKeyDown.bind(r),r}return u(e,t),s(e,[{key:"_handleKeyCommand",value:function(t){var e=this.state.editorState,r=l.RichUtils.handleKeyCommand(e,t);return!!r&&(this.onChange(r),!0)}},{key:"_onFocus",value:function(t){this.setState({editorFocused:!0})}},{key:"_onTab",value:function(t){this.onChange(l.RichUtils.onTab(t,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(t){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_toggleUploadType",value:function(t){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_toggleInlineStyle",value:function(t){this.onChange(l.RichUtils.toggleInlineStyle(this.state.editorState,t))}},{key:"_pictureAppendCallback",value:function(t,e){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_onURLInputKeyDown",value:function(t){13===t.which&&this._confirmMedia(t)}},{key:"_promptForMedia",value:function(t){var e=this;this.state.editorState;this.setState({showURLInput:!0,urlValue:"",urlType:t},function(){setTimeout(function(){e.refs.url.focus()},0)})}},{key:"_confirmPictureMedia",value:function(t){var e=this;this.state.editorState;t.map(function(t){var r=e.state.editorState,n=r.getCurrentContent(),i=n.createEntity("image","IMMUTABLE",{src:t.thumb,file:t});e.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(r,i.getLastCreatedEntityKey(),t.thumb)},function(){setTimeout(function(){return e.focus()},0)})})}},{key:"_addAudio",value:function(){this._promptForMedia("audio")}},{key:"_addVideo",value:function(){this._promptForMedia("video")}},{key:"_confirmMedia",value:function(t){var e=this;t.preventDefault();var r=this.state,n=r.editorState,i=r.urlValue,o=r.urlType,u=l.Entity.create(o,"IMMUTABLE",{src:i});this.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(n,u," ")},function(){setTimeout(function(){return e.focus()},0)})}},{key:"showNotification",value:function(t,e){this.props.showNotification&&this.props.showNotification(t,e)}},{key:"getEditor",value:function(){var t=this.state.editorState;return f.default.createElement(l.Editor,{spellCheck:!1,editorState:t,blockRendererFn:h.mediaBlockRenderer,blockStyleFn:a,blockRenderMap:h.extendedBlockRenderMap,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,ref:"editor",placeholder:this.props.placeholder})}},{key:"render",value:function(){return f.default.createElement("div",{className:"db-editor"},f.default.createElement("div",{className:"title"},f.default.createElement("input",{type:"text",placeholder:this.props.titlePlaceholder||"",dir:"auto",value:this.state.title,onChange:this.handleTitleChange})),f.default.createElement(h.Controlbar,{toggleInlineStyle:this.toggleInlineStyle,toggleBlockType:this.toggleBlockType,editorState:this.state.editorState,addImage:this.addImage,buttonItems:this.props.buttonItems,buttonIcons:this.props.buttonIcons}),f.default.createElement("div",{className:"content"},this.getEditor()))}}]),e}(f.default.Component);p.propTypes={buttonItems:f.default.PropTypes.array,buttonIcons:f.default.PropTypes.object},t.exports={DoubanEditor:p}},function(t,e,r){"use strict";var n=r(10);t.exports={DoubanEditor:n.DoubanEditor}},function(t,e,r){!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:x(t)}function r(t){return u(t)?t:B(t)}function n(t){return a(t)?t:D(t)}function i(t){return o(t)&&!s(t)?t:q(t)}function o(t){return!(!t||!t[sr])}function u(t){return!(!t||!t[cr])}function a(t){return!(!t||!t[fr])}function s(t){return u(t)||a(t)}function c(t){return!(!t||!t[lr])}function f(t){return t.value=!1,t}function l(t){t&&(t.value=!0)}function h(){}function p(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function _(t){return void 0===t.size&&(t.size=t.__iterate(v)),t.size}function d(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?_(t)+e:e}function v(){return!0}function y(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function m(t,e){return b(t,e,0)}function g(t,e){return b(t,e,e)}function b(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function I(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function S(){return{value:void 0,done:!0}}function E(t){return!!M(t)}function z(t){return t&&"function"==typeof t.next}function k(t){var e=M(t);return e&&e.call(t)}function M(t){var e=t&&(Ir&&t[Ir]||t[Sr]);if("function"==typeof e)return e}function O(t){return t&&"number"==typeof t.length}function x(t){return null===t||void 0===t?U():o(t)?t.toSeq():H(t)}function B(t){return null===t||void 0===t?U().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():P(t)}function D(t){return null===t||void 0===t?U():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():L(t)}function q(t){return(null===t||void 0===t?U():o(t)?u(t)?t.entrySeq():t:L(t)).toSetSeq()}function T(t){this._array=t,this.size=t.length}function j(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function C(t){this._iterable=t,this.size=t.length||t.size}function R(t){this._iterator=t,this._iteratorCache=[]}function A(t){return!(!t||!t[zr])}function U(){return kr||(kr=new T([]))}function P(t){var e=Array.isArray(t)?new T(t).fromEntrySeq():z(t)?new R(t).fromEntrySeq():E(t)?new C(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function L(t){var e=N(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function H(t){var e=N(t)||"object"==typeof t&&new j(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function N(t){return O(t)?new T(t):z(t)?new R(t):E(t)?new C(t):void 0}function K(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var a=i[r?o-u:u];if(e(a[1],n?a[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function V(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new w(function(){var t=i[r?o-u:u];return u++>o?S():I(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function W(t,e){return e?F(e,t,"",{"":t}):J(t)}function F(t,e,r,n){return Array.isArray(e)?t.call(n,r,D(e).map(function(r,n){return F(t,r,n,e)})):Q(e)?t.call(n,r,B(e).map(function(r,n){return F(t,r,n,e)})):e}function J(t){return Array.isArray(t)?D(t).map(J).toList():Q(t)?B(t).map(J).toMap():t}function Q(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Y(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!s(t);if(c(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&X(i[1],t)&&(r||X(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var l=!0,h=e.__iterate(function(e,n){if(r?!t.has(e):i?!X(e,t.get(n,vr)):!X(t.get(n,vr),e))return l=!1,!1});return l&&t.size===h}function G(t,e){if(!(this instanceof G))return new G(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Mr)return Mr;Mr=this}}function Z(t,e){if(!t)throw new Error(e)}function $(t,e,r){if(!(this instanceof $))return new $(t,e,r);if(Z(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Or)return Or;Or=this}}function tt(){throw TypeError("Abstract")}function et(){}function rt(){}function nt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&((t=t.valueOf())===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)t/=4294967295,r^=t;return it(r)}if("string"===e)return t.length>Rr?ut(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return st(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Pr[t];return void 0===e&&(e=at(t),Ur===Ar&&(Ur=0,Pr={}),Ur++,Pr[t]=e),e}function at(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return it(e)}function st(t){var e;if(Tr&&void 0!==(e=xr.get(t)))return e;if(void 0!==(e=t[Cr]))return e;if(!qr){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Cr]))return e;if(void 0!==(e=ct(t)))return e}if(e=++jr,1073741824&jr&&(jr=0),Tr)xr.set(t,e);else{if(void 0!==Dr&&Dr(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(qr)Object.defineProperty(t,Cr,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Cr]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Cr]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function lt(t){return null===t||void 0===t?It():ht(t)&&!c(t)?t:It().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function ht(t){return!(!t||!t[Lr])}function pt(t,e){this.ownerID=t,this.entries=e}function _t(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function dt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function vt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function mt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&bt(t._root)}function gt(t,e){return I(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,r,n){var i=Object.create(Hr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function It(){return Nr||(Nr=wt(0))}function St(t,e,r){var n,i;if(t._root){var o=f(yr),u=f(mr);if(n=Et(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===vr?-1:1:0)}else{if(r===vr)return t;i=1,n=new pt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?wt(i,n):It()}function Et(t,e,r,n,i,o,u,a){return t?t.update(e,r,n,i,o,u,a):o===vr?t:(l(a),l(u),new yt(e,n,[i,o]))}function zt(t){return t.constructor===yt||t.constructor===vt}function kt(t,e,r,n,i){if(t.keyHash===n)return new vt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&dr,a=(0===r?n:n>>>r)&dr;return new _t(e,1<<u|1<<a,u===a?[kt(t,e,r+pr,n,i)]:(o=new yt(e,n,i),u<a?[t,o]:[o,t]))}function Mt(t,e,r,n){t||(t=new h);for(var i=new yt(t,ot(r),[r,n]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Ot(t,e,r,n){for(var i=0,o=0,u=new Array(r),a=0,s=1,c=e.length;a<c;a++,s<<=1){var f=e[a];void 0!==f&&a!==n&&(i|=s,u[o++]=f)}return new _t(t,i,u)}function xt(t,e,r,n,i){for(var o=0,u=new Array(_r),a=0;0!==r;a++,r>>>=1)u[a]=1&r?e[o++]:void 0;return u[n]=i,new dt(t,o+1,u)}function Bt(t,e,n){for(var i=[],u=0;u<n.length;u++){var a=n[u],s=r(a);o(a)||(s=s.map(function(t){return W(t)})),i.push(s)}return Tt(t,e,i)}function Dt(t,e,r){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):X(t,e)?t:e}function qt(t){return function(e,r,n){if(e&&e.mergeDeepWith&&o(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return X(e,i)?e:i}}function Tt(t,e,r){return r=r.filter(function(t){return 0!==t.size}),0===r.length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,vr,function(t){return t===vr?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)}):t.constructor(r[0])}function jt(t,e,r,n){var i=t===vr,o=e.next();if(o.done){var u=i?r:t,a=n(u);return a===u?t:a}Z(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?vr:t.get(s,vr),f=jt(c,e,r,n);return f===c?t:f===vr?t.remove(s):(i?It():t).set(s,f)}function Ct(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Rt(t,e,r,n){var i=n?t:p(t);return i[e]=r,i}function At(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),u=0,a=0;a<i;a++)a===e?(o[a]=r,u=-1):o[a]=t[a+u];return o}function Ut(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,u=0;u<n;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Pt(t){var e=Vt();if(null===t||void 0===t)return e;if(Lt(t))return t;var r=n(t),i=r.size;return 0===i?e:(ft(i),i>0&&i<_r?Kt(0,i,pr,null,new Ht(r.toArray())):e.withMutations(function(t){t.setSize(i),r.forEach(function(e,r){return t.set(r,e)})}))}function Lt(t){return!(!t||!t[Fr])}function Ht(t,e){this.array=t,this.ownerID=e}function Nt(t,e){function r(t,e,r){return 0===e?n(t,r):i(t,e,r)}function n(t,r){var n=r===a?s&&s.array:t&&t.array,i=r>o?0:o-r,c=u-r;return c>_r&&(c=_r),function(){if(i===c)return Xr;var t=e?--c:i++;return n&&n[t]}}function i(t,n,i){var a,s=t&&t.array,c=i>o?0:o-i>>n,f=1+(u-i>>n);return f>_r&&(f=_r),function(){for(;;){if(a){var t=a();if(t!==Xr)return t;a=null}if(c===f)return Xr;var o=e?--f:c++;a=r(s&&s[o],n-pr,i+(o<<n))}}}var o=t._origin,u=t._capacity,a=Gt(u),s=t._tail;return r(t._root,t._level,0)}function Kt(t,e,r,n,i,o,u){var a=Object.create(Jr);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=n,a._tail=i,a.__ownerID=o,a.__hash=u,a.__altered=!1,a}function Vt(){return Qr||(Qr=Kt(0,0,pr))}function Wt(t,e,r){if((e=d(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Xt(t,e).set(0,r):Xt(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=f(mr);return e>=Gt(t._capacity)?n=Ft(n,t.__ownerID,0,e,r,o):i=Ft(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Kt(t._origin,t._capacity,t._level,i,n):t}function Ft(t,e,r,n,i,o){var u=n>>>r&dr,a=t&&u<t.array.length;if(!a&&void 0===i)return t;var s;if(r>0){var c=t&&t.array[u],f=Ft(c,e,r-pr,n,i,o);return f===c?t:(s=Jt(t,e),s.array[u]=f,s)}return a&&t.array[u]===i?t:(l(o),s=Jt(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Jt(t,e){return e&&t&&e===t.ownerID?t:new Ht(t?t.array.slice():[],e)}function Qt(t,e){if(e>=Gt(t._capacity))return t._tail;if(e<1<<t._level+pr){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&dr],n-=pr;return r}}function Xt(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new h,i=t._origin,o=t._capacity,u=i+e,a=void 0===r?o:r<0?o+r:i+r;if(u===i&&a===o)return t;if(u>=a)return t.clear();for(var s=t._level,c=t._root,f=0;u+f<0;)c=new Ht(c&&c.array.length?[void 0,c]:[],n),s+=pr,f+=1<<s;f&&(u+=f,i+=f,a+=f,o+=f);for(var l=Gt(o),p=Gt(a);p>=1<<s+pr;)c=new Ht(c&&c.array.length?[c]:[],n),s+=pr;var _=t._tail,d=p<l?Qt(t,a-1):p>l?new Ht([],n):_;if(_&&p>l&&u<o&&_.array.length){c=Jt(c,n);for(var v=c,y=s;y>pr;y-=pr){var m=l>>>y&dr;v=v.array[m]=Jt(v.array[m],n)}v.array[l>>>pr&dr]=_}if(a<o&&(d=d&&d.removeAfter(n,0,a)),u>=p)u-=p,a-=p,s=pr,c=null,d=d&&d.removeBefore(n,0,u);else if(u>i||p<l){for(f=0;c;){var g=u>>>s&dr;if(g!==p>>>s&dr)break;g&&(f+=(1<<s)*g),s-=pr,c=c.array[g]}c&&u>i&&(c=c.removeBefore(n,s,u-f)),c&&p<l&&(c=c.removeAfter(n,s,p-f)),f&&(u-=f,a-=f)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=s,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):Kt(u,a,s,c,d)}function Yt(t,e,r){for(var i=[],u=0,a=0;a<r.length;a++){var s=r[a],c=n(s);c.size>u&&(u=c.size),o(s)||(c=c.map(function(t){return W(t)})),i.push(c)}return u>t.size&&(t=t.setSize(u)),Tt(t,e,i)}function Gt(t){return t<_r?0:t-1>>>pr<<pr}function Zt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function $t(t){return ht(t)&&c(t)}function te(t,e,r,n){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function ee(){return Yr||(Yr=te(It(),Vt()))}function re(t,e,r){var n,i,o=t._map,u=t._list,a=o.get(e),s=void 0!==a;if(r===vr){if(!s)return t;u.size>=_r&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&a!==e}),n=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=a===u.size-1?u.pop():u.set(a,void 0))}else if(s){if(r===u.get(a)[1])return t;n=o,i=u.set(a,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):te(n,i)}function ne(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function ae(t){var e=Oe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=xe,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===wr){var n=t.__iterator(e,r);return new w(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===br?gr:br,r)},e}function se(t,e,r){var n=Oe(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,vr);return o===vr?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return n(e.call(r,t,i,u),i,o)!==!1},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(wr,i);return new w(function(){var i=o.next();if(i.done)return i;var u=i.value,a=u[0];return I(n,a,e.call(r,u[1],a,t),i)})},n}function ce(t,e){var r=Oe(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=xe,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function fe(t,e,r,n){var i=Oe(t);return n&&(i.has=function(n){var i=t.get(n,vr);return i!==vr&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,vr);return o!==vr&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,a=0;return t.__iterate(function(t,o,s){if(e.call(r,t,o,s))return a++,i(t,n?o:a-1,u)},o),a},i.__iteratorUncached=function(i,o){var u=t.__iterator(wr,o),a=0;return new w(function(){for(;;){var o=u.next();if(o.done)return o;var s=o.value,c=s[0],f=s[1];if(e.call(r,f,c,t))return I(i,n?c:a++,f,o)}})},i}function le(t,e,r){var n=lt().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}function he(t,e,r){var n=u(t),i=(c(t)?Zt():lt()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return t=t||[],t.push(n?[u,o]:o),t})});var o=Me(t);return i.map(function(e){return Ee(t,o(e))})}function pe(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r===1/0?r=i:r|=0),y(e,r,i))return t;var o=m(e,i),u=g(r,i);if(o!==o||u!==u)return pe(t.toSeq().cacheResult(),e,r,n);var a,s=u-o;s===s&&(a=s<0?0:s);var c=Oe(t);return c.size=0===a?a:t.size&&a||void 0,!n&&A(t)&&a>=0&&(c.get=function(e,r){return e=d(this,e),e>=0&&e<a?t.get(e+o,r):r}),c.__iterateUncached=function(e,r){var i=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,s=!0,c=0;return t.__iterate(function(t,r){if(!s||!(s=u++<o))return c++,e(t,n?r:c-1,i)!==!1&&c!==a}),c},c.__iteratorUncached=function(e,r){if(0!==a&&r)return this.cacheResult().__iterator(e,r);var i=0!==a&&t.__iterator(e,r),u=0,s=0;return new w(function(){for(;u++<o;)i.next();if(++s>a)return S();var t=i.next();return n||e===br?t:e===gr?I(e,s-1,void 0,t):I(e,s-1,t.value[1],t)})},c}function _e(t,e,r){var n=Oe(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,a){return e.call(r,t,i,a)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(wr,i),a=!0;return new w(function(){if(!a)return S();var t=u.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(r,c,s,o)?n===wr?t:I(n,s,c,t):(a=!1,S())})},n}function de(t,e,r,n){var i=Oe(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,s=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(r,t,o,c)))return s++,i(t,n?o:s-1,u)}),s},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(wr,o),s=!0,c=0;return new w(function(){var t,o,f;do{if(t=a.next(),t.done)return n||i===br?t:i===gr?I(i,c++,void 0,t):I(i,c++,t.value[1],t);var l=t.value;o=l[0],f=l[1],s&&(s=e.call(r,f,o,u))}while(s);return i===wr?t:I(i,o,f,t)})},i}function ve(t,e){var n=u(t),i=[t].concat(e).map(function(t){return o(t)?n&&(t=r(t)):t=n?P(t):L(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var s=i[0];if(s===t||n&&u(s)||a(t)&&a(s))return s}var c=new T(i);return n?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),c}function ye(t,e,r){var n=Oe(t);return n.__iterateUncached=function(n,i){function u(t,c){var f=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?u(t,c+1):n(t,r?i:a++,f)===!1&&(s=!0),!s},i)}var a=0,s=!1;return u(t,0),a},n.__iteratorUncached=function(n,i){var u=t.__iterator(n,i),a=[],s=0;return new w(function(){for(;u;){var t=u.next();if(t.done===!1){var c=t.value;if(n===wr&&(c=c[1]),e&&!(a.length<e)||!o(c))return r?t:I(n,s++,c,t);a.push(u),u=c.__iterator(n,i)}else u=a.pop()}return S()})},n}function me(t,e,r){var n=Me(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function ge(t,e){var r=Oe(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||r(e,o++,i)!==!1)&&r(t,o++,i)!==!1},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(br,n),u=0;return new w(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?I(r,u++,e):I(r,u++,i.value,i)})},r}function be(t,e,r){e||(e=Be);var n=u(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?B(o):a(t)?D(o):q(o)}function we(t,e,r){if(e||(e=Be),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return Ie(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return Ie(e,t,r)?r:t})}function Ie(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(void 0===r||null===r||r!==r)||n>0}function Se(t,r,n){var i=Oe(t);return i.size=new T(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(br,e),i=0;!(r=n.next()).done&&t(r.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=e(t),k(i?t.reverse():t)}),u=0,a=!1;return new w(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?S():I(t,u++,r.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return A(t)?e:t.constructor(e)}function ze(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ft(t.size),_(t)}function Me(t){return u(t)?r:a(t)?n:i}function Oe(t){return Object.create((u(t)?B:a(t)?D:q).prototype)}function xe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function Be(t,e){return t>e?1:t<e?-1:0}function De(t){var r=k(t);if(!r){if(!O(t))throw new TypeError("Expected iterable or array-like: "+t);r=k(e(t))}return r}function qe(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);Ce(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=lt(o)},i=n.prototype=Object.create(Gr);return i.constructor=n,n}function Te(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function je(t){return t._name||t.constructor.name||"Record"}function Ce(t,e){try{e.forEach(Re.bind(void 0,t))}catch(t){}}function Re(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ae(t){return null===t||void 0===t?He():Ue(t)&&!c(t)?t:He().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Ue(t){return!(!t||!t[Zr])}function Pe(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Le(t,e){var r=Object.create($r);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function He(){return tn||(tn=Le(It()))}function Ne(t){return null===t||void 0===t?We():Ke(t)?t:We().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Ke(t){return Ue(t)&&c(t)}function Ve(t,e){var r=Object.create(en);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function We(){return rn||(rn=Ve(ee()))}function Fe(t){return null===t||void 0===t?Xe():Je(t)?t:Xe().unshiftAll(t)}function Je(t){return!(!t||!t[nn])}function Qe(t,e,r,n){var i=Object.create(on);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xe(){return un||(un=Qe(0))}function Ye(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ge(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tr(t){return function(){return-t.apply(this,arguments)}}function er(t){return"string"==typeof t?JSON.stringify(t):String(t)}function rr(){return p(arguments)}function nr(t,e){return t<e?1:t>e?-1:0}function ir(t){if(t.size===1/0)return 0;var e=c(t),r=u(t),n=e?1:0;return or(t.__iterate(r?e?function(t,e){n=31*n+ur(ot(t),ot(e))|0}:function(t,e){n=n+ur(ot(t),ot(e))|0}:e?function(t){n=31*n+ot(t)|0}:function(t){n=n+ot(t)|0}),n)}function or(t,e){return e=Br(e,3432918353),e=Br(e<<15|e>>>-15,461845907),e=Br(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Br(e^e>>>16,2246822507),e=Br(e^e>>>13,3266489909),e=it(e^e>>>16)}function ur(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ar=Array.prototype.slice;t(r,e),t(n,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=a,e.isAssociative=s,e.isOrdered=c,e.Keyed=r,e.Indexed=n,e.Set=i;var sr="@@__IMMUTABLE_ITERABLE__@@",cr="@@__IMMUTABLE_KEYED__@@",fr="@@__IMMUTABLE_INDEXED__@@",lr="@@__IMMUTABLE_ORDERED__@@",hr="delete",pr=5,_r=1<<pr,dr=_r-1,vr={},yr={value:!1},mr={value:!1},gr=0,br=1,wr=2,Ir="function"==typeof Symbol&&Symbol.iterator,Sr="@@iterator",Er=Ir||Sr;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=gr,w.VALUES=br,w.ENTRIES=wr,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Er]=function(){return this},t(x,e),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(t,e){return K(this,t,e,!0)},x.prototype.__iterator=function(t,e){return V(this,t,e,!0)},t(B,x),B.prototype.toKeyedSeq=function(){return this},t(D,x),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(t,e){return K(this,t,e,!1)},D.prototype.__iterator=function(t,e){return V(this,t,e,!1)},t(q,x),q.of=function(){return q(arguments)},q.prototype.toSetSeq=function(){return this},x.isSeq=A,x.Keyed=B,x.Set=q,x.Indexed=D;var zr="@@__IMMUTABLE_SEQ__@@";x.prototype[zr]=!0,t(T,D),T.prototype.get=function(t,e){return this.has(t)?this._array[d(this,t)]:e},T.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},T.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new w(function(){return i>n?S():I(t,i,r[e?n-i++:i++])})},t(j,B),j.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var u=n[e?i-o:o];if(t(r[u],u,this)===!1)return o+1}return o},j.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new w(function(){var u=n[e?i-o:o];return o++>i?S():I(t,u,r[u])})},j.prototype[lr]=!0,t(C,D),C.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=k(r),i=0;if(z(n))for(var o;!(o=n.next()).done&&t(o.value,i++,this)!==!1;);return i},C.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=k(r);if(!z(n))return new w(S);var i=0;return new w(function(){var e=n.next();return e.done?e:I(t,i++,e.value)})},t(R,D),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;i<n.length;)if(t(n[i],i++,this)===!1)return i;for(var o;!(o=r.next()).done;){var u=o.value;if(n[i]=u,t(u,i++,this)===!1)break}return i},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new w(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return I(t,i,n[i++])})};var kr;t(G,D),G.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},G.prototype.get=function(t,e){return this.has(t)?this._value:e},G.prototype.includes=function(t){return X(this._value,t)},G.prototype.slice=function(t,e){var r=this.size;return y(t,e,r)?this:new G(this._value,g(e,r)-m(t,r))},G.prototype.reverse=function(){return this},G.prototype.indexOf=function(t){return X(this._value,t)?0:-1},G.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},G.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},G.prototype.__iterator=function(t,e){var r=this,n=0;return new w(function(){return n<r.size?I(t,n++,r._value):S()})},G.prototype.equals=function(t){return t instanceof G?X(this._value,t._value):Y(t)};var Mr;t($,D),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+d(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return y(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(t(i,o,this)===!1)return o+1;i+=e?-n:n}return o},$.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new w(function(){var u=i;return i+=e?-n:n,o>r?S():I(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:Y(this,t)};var Or;t(tt,e),t(et,tt),t(rt,tt),t(nt,tt),tt.Keyed=et,tt.Indexed=rt,tt.Set=nt;var xr,Br="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t|=0,e|=0;var r=65535&t,n=65535&e;return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0},Dr=Object.isExtensible,qr=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Tr="function"==typeof WeakMap;Tr&&(xr=new WeakMap);var jr=0,Cr="__immutablehash__";"function"==typeof Symbol&&(Cr=Symbol(Cr));var Rr=16,Ar=255,Ur=0,Pr={};t(lt,et),lt.of=function(){var t=ar.call(arguments,0);return It().withMutations(function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}})},lt.prototype.toString=function(){return this.__toString("Map {","}")},lt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},lt.prototype.set=function(t,e){return St(this,t,e)},lt.prototype.setIn=function(t,e){return this.updateIn(t,vr,function(){return e})},lt.prototype.remove=function(t){return St(this,t,vr)},lt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return vr})},lt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},lt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=jt(this,De(t),e,r);return n===vr?void 0:n},lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):It()},lt.prototype.merge=function(){return Bt(this,void 0,arguments)},lt.prototype.mergeWith=function(t){return Bt(this,t,ar.call(arguments,1))},lt.prototype.mergeIn=function(t){var e=ar.call(arguments,1);return this.updateIn(t,It(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},lt.prototype.mergeDeep=function(){return Bt(this,Dt,arguments)},lt.prototype.mergeDeepWith=function(t){var e=ar.call(arguments,1);return Bt(this,qt(t),e)},lt.prototype.mergeDeepIn=function(t){var e=ar.call(arguments,1);return this.updateIn(t,It(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},lt.prototype.sort=function(t){return Zt(be(this,t))},lt.prototype.sortBy=function(t,e){return Zt(be(this,e,t))},lt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},lt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new h)},lt.prototype.asImmutable=function(){return this.__ensureOwner()},lt.prototype.wasAltered=function(){return this.__altered},lt.prototype.__iterator=function(t,e){return new mt(this,t,e)},lt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},lt.isMap=ht;var Lr="@@__IMMUTABLE_MAP__@@",Hr=lt.prototype;Hr[Lr]=!0,Hr[hr]=Hr.remove,Hr.removeIn=Hr.deleteIn,pt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(X(r,i[o][0]))return i[o][1];return n},pt.prototype.update=function(t,e,r,n,i,o,u){for(var a=i===vr,s=this.entries,c=0,f=s.length;c<f&&!X(n,s[c][0]);c++);var h=c<f;if(h?s[c][1]===i:a)return this;if(l(u),(a||!h)&&l(o),!a||1!==s.length){if(!h&&!a&&s.length>=Kr)return Mt(t,s,n,i);var _=t&&t===this.ownerID,d=_?s:p(s);return h?a?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),_?(this.entries=d,this):new pt(t,d)}},_t.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=1<<((0===t?e:e>>>t)&dr),o=this.bitmap;return 0==(o&i)?n:this.nodes[Ct(o&i-1)].get(t+pr,e,r,n)},_t.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var a=(0===e?r:r>>>e)&dr,s=1<<a,c=this.bitmap,f=0!=(c&s);if(!f&&i===vr)return this;var l=Ct(c&s-1),h=this.nodes,p=f?h[l]:void 0,_=Et(p,t,e+pr,r,n,i,o,u);if(_===p)return this;if(!f&&_&&h.length>=Vr)return xt(t,h,c,a,_);if(f&&!_&&2===h.length&&zt(h[1^l]))return h[1^l];if(f&&_&&1===h.length&&zt(_))return _;var d=t&&t===this.ownerID,v=f?_?c:c^s:c|s,y=f?_?Rt(h,l,_,d):Ut(h,l,d):At(h,l,_,d);return d?(this.bitmap=v,this.nodes=y,this):new _t(t,v,y)},dt.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=(0===t?e:e>>>t)&dr,o=this.nodes[i];return o?o.get(t+pr,e,r,n):n},dt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var a=(0===e?r:r>>>e)&dr,s=i===vr,c=this.nodes,f=c[a];if(s&&!f)return this;var l=Et(f,t,e+pr,r,n,i,o,u);if(l===f)return this;var h=this.count;if(f){if(!l&&--h<Wr)return Ot(t,c,h,a)}else h++;var p=t&&t===this.ownerID,_=Rt(c,a,l,p);return p?(this.count=h,this.nodes=_,this):new dt(t,h,_)},vt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(X(r,i[o][0]))return i[o][1];return n},vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var a=i===vr;if(r!==this.keyHash)return a?this:(l(u),l(o),kt(this,t,e,r,[n,i]));for(var s=this.entries,c=0,f=s.length;c<f&&!X(n,s[c][0]);c++);var h=c<f;if(h?s[c][1]===i:a)return this;if(l(u),(a||!h)&&l(o),a&&2===f)return new yt(t,this.keyHash,s[1^c]);var _=t&&t===this.ownerID,d=_?s:p(s);return h?a?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),_?(this.entries=d,this):new vt(t,this.keyHash,d)},yt.prototype.get=function(t,e,r,n){return X(r,this.entry[0])?this.entry[1]:n},yt.prototype.update=function(t,e,r,n,i,o,u){var a=i===vr,s=X(n,this.entry[0]);return(s?i===this.entry[1]:a)?this:(l(u),a?void l(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new yt(t,this.keyHash,[n,i]):(l(o),kt(this,t,e,ot(n),[n,i])))},pt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1},_t.prototype.iterate=dt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}},yt.prototype.iterate=function(t,e){return t(this.entry)},t(mt,w),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return gt(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,i<=r)return gt(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,i<=r){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return S()};var Nr,Kr=_r/4,Vr=_r/2,Wr=_r/4;t(Pt,rt),Pt.of=function(){return this(arguments)},Pt.prototype.toString=function(){return this.__toString("List [","]")},Pt.prototype.get=function(t,e){if((t=d(this,t))>=0&&t<this.size){t+=this._origin;var r=Qt(this,t);return r&&r.array[t&dr]}return e},Pt.prototype.set=function(t,e){return Wt(this,t,e)},Pt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Pt.prototype.insert=function(t,e){return this.splice(t,0,e)},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pr,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Vt()},Pt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){Xt(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},Pt.prototype.pop=function(){return Xt(this,0,-1)},Pt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},Pt.prototype.shift=function(){return Xt(this,1)},Pt.prototype.merge=function(){return Yt(this,void 0,arguments)},Pt.prototype.mergeWith=function(t){return Yt(this,t,ar.call(arguments,1))},Pt.prototype.mergeDeep=function(){return Yt(this,Dt,arguments)},Pt.prototype.mergeDeepWith=function(t){var e=ar.call(arguments,1);return Yt(this,qt(t),e)},Pt.prototype.setSize=function(t){return Xt(this,0,t)},Pt.prototype.slice=function(t,e){var r=this.size;return y(t,e,r)?this:Xt(this,m(t,r),g(e,r))},Pt.prototype.__iterator=function(t,e){var r=0,n=Nt(this,e);return new w(function(){var e=n();return e===Xr?S():I(t,r++,e)})},Pt.prototype.__iterate=function(t,e){for(var r,n=0,i=Nt(this,e);(r=i())!==Xr&&t(r,n++,this)!==!1;);return n},Pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Kt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Pt.isList=Lt;var Fr="@@__IMMUTABLE_LIST__@@",Jr=Pt.prototype;Jr[Fr]=!0,Jr[hr]=Jr.remove,Jr.setIn=Hr.setIn,Jr.deleteIn=Jr.removeIn=Hr.removeIn,Jr.update=Hr.update,Jr.updateIn=Hr.updateIn,Jr.mergeIn=Hr.mergeIn,Jr.mergeDeepIn=Hr.mergeDeepIn,Jr.withMutations=Hr.withMutations,Jr.asMutable=Hr.asMutable,Jr.asImmutable=Hr.asImmutable,Jr.wasAltered=Hr.wasAltered,Ht.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&dr;if(n>=this.array.length)return new Ht([],t);var i,o=0===n;if(e>0){var u=this.array[n];if((i=u&&u.removeBefore(t,e-pr,r))===u&&o)return this}if(o&&!i)return this;var a=Jt(this,t);if(!o)for(var s=0;s<n;s++)a.array[s]=void 0;return i&&(a.array[n]=i),a},Ht.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n=r-1>>>e&dr;if(n>=this.array.length)return this;var i;if(e>0){var o=this.array[n];if((i=o&&o.removeAfter(t,e-pr,r))===o&&n===this.array.length-1)return this}var u=Jt(this,t);return u.array.splice(n+1),i&&(u.array[n]=i),u};var Qr,Xr={};t(Zt,lt),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return re(this,t,e)},Zt.prototype.remove=function(t){return re(this,t,vr)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?te(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Zt.isOrderedMap=$t,Zt.prototype[lr]=!0,Zt.prototype[hr]=Zt.prototype.remove;var Yr;t(ne,B),ne.prototype.get=function(t,e){return this._iter.get(t,e)},ne.prototype.has=function(t){return this._iter.has(t)},ne.prototype.valueSeq=function(){return this._iter.valueSeq()},ne.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ne.prototype.map=function(t,e){var r=this,n=se(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},ne.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?ke(this):0,function(i){return t(i,e?--r:r++,n)}),e)},ne.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(br,e),n=e?ke(this):0;return new w(function(){var i=r.next();return i.done?i:I(t,e?--n:n++,i.value,i)})},ne.prototype[lr]=!0,t(ie,D),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},ie.prototype.__iterator=function(t,e){var r=this._iter.__iterator(br,e),n=0;return new w(function(){var e=r.next();return e.done?e:I(t,n++,e.value,e)})},t(oe,q),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},oe.prototype.__iterator=function(t,e){var r=this._iter.__iterator(br,e);return new w(function(){var e=r.next();return e.done?e:I(t,e.value,e.value,e)})},t(ue,B),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){ze(e);var n=o(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(br,e);return new w(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){ze(n);var i=o(n);return I(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},ie.prototype.cacheResult=ne.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=xe,t(qe,et),qe.prototype.toString=function(){return this.__toString(je(this)+" {","}")},qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},qe.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Te(this,It()))},qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+je(this));if(this._map&&!this._map.has(t)){if(e===this._defaultValues[t])return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Te(this,r)},qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Te(this,e)},qe.prototype.wasAltered=function(){return this._map.wasAltered()},qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Te(this,e,t):(this.__ownerID=t,this._map=e,this)};var Gr=qe.prototype;Gr[hr]=Gr.remove,Gr.deleteIn=Gr.removeIn=Hr.removeIn,Gr.merge=Hr.merge,Gr.mergeWith=Hr.mergeWith,Gr.mergeIn=Hr.mergeIn,Gr.mergeDeep=Hr.mergeDeep,Gr.mergeDeepWith=Hr.mergeDeepWith,Gr.mergeDeepIn=Hr.mergeDeepIn,Gr.setIn=Hr.setIn,Gr.update=Hr.update,Gr.updateIn=Hr.updateIn,Gr.withMutations=Hr.withMutations,Gr.asMutable=Hr.asMutable,Gr.asImmutable=Hr.asImmutable,t(Ae,nt),Ae.of=function(){return this(arguments)},Ae.fromKeys=function(t){return this(r(t).keySeq())},Ae.prototype.toString=function(){return this.__toString("Set {","}")},Ae.prototype.has=function(t){return this._map.has(t)},Ae.prototype.add=function(t){return Pe(this,this._map.set(t,!0))},Ae.prototype.remove=function(t){return Pe(this,this._map.remove(t))},Ae.prototype.clear=function(){return Pe(this,this._map.clear())},Ae.prototype.union=function(){var t=ar.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var r=0;r<t.length;r++)i(t[r]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ae.prototype.intersect=function(){var t=ar.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.every(function(t){return t.includes(e)})||r.remove(e)})})},Ae.prototype.subtract=function(){var t=ar.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.remove(e)})})},Ae.prototype.merge=function(){return this.union.apply(this,arguments)},Ae.prototype.mergeWith=function(t){var e=ar.call(arguments,1);return this.union.apply(this,e)},Ae.prototype.sort=function(t){return Ne(be(this,t))},Ae.prototype.sortBy=function(t,e){return Ne(be(this,e,t))},Ae.prototype.wasAltered=function(){return this._map.wasAltered()},Ae.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},Ae.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ae.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ae.isSet=Ue;var Zr="@@__IMMUTABLE_SET__@@",$r=Ae.prototype;$r[Zr]=!0,$r[hr]=$r.remove,$r.mergeDeep=$r.merge,$r.mergeDeepWith=$r.mergeWith,$r.withMutations=Hr.withMutations,$r.asMutable=Hr.asMutable,$r.asImmutable=Hr.asImmutable,$r.__empty=He,$r.__make=Le;var tn;t(Ne,Ae),Ne.of=function(){return this(arguments)},Ne.fromKeys=function(t){return this(r(t).keySeq())},Ne.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ne.isOrderedSet=Ke;var en=Ne.prototype;en[lr]=!0,en.__empty=We,en.__make=Ve;var rn;t(Fe,rt),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("Stack [","]")},Fe.prototype.get=function(t,e){var r=this._head;for(t=d(this,t);r&&t--;)r=r.next;return r?r.value:e},Fe.prototype.peek=function(){return this._head&&this._head.value},Fe.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Qe(t,e)},Fe.prototype.pushAll=function(t){if(t=n(t),0===t.size)return this;ft(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Qe(e,r)},Fe.prototype.pop=function(){return this.slice(1)},Fe.prototype.unshift=function(){return this.push.apply(this,arguments)},Fe.prototype.unshiftAll=function(t){return this.pushAll(t)},Fe.prototype.shift=function(){return this.pop.apply(this,arguments)},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Fe.prototype.slice=function(t,e){if(y(t,e,this.size))return this;var r=m(t,this.size);if(g(e,this.size)!==this.size)return rt.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Qe(n,i)},Fe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Fe.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&t(n.value,r++,this)!==!1;)n=n.next;return r},Fe.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new w(function(){if(n){var e=n.value;return n=n.next,I(t,r++,e)}return S()})},Fe.isStack=Je;var nn="@@__IMMUTABLE_STACK__@@",on=Fe.prototype;on[nn]=!0,on.withMutations=Hr.withMutations,on.asMutable=Hr.asMutable,on.asImmutable=Hr.asImmutable,on.wasAltered=Hr.wasAltered;var un;e.Iterator=w,Ye(e,{toArray:function(){ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new ne(this,!0)},toMap:function(){return lt(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Ne(u(this)?this.valueSeq():this)},toSet:function(){return Ae(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fe(u(this)?this.valueSeq():this)},toList:function(){return Pt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ee(this,ve(this,ar.call(arguments,0)))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(wr)},every:function(t,e){ft(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function(t,e){return Ee(this,fe(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!==n&&void 0!==n?n.toString():""}),e},keys:function(){return this.__iterator(gr)},map:function(t,e){return Ee(this,se(this,t,e))},reduce:function(t,e,r){ft(this.size);var n,i;return arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Ee(this,ce(this,!0))},slice:function(t,e){return Ee(this,pe(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Ee(this,be(this,t))},values:function(){return this.__iterator(br)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return _(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return le(this,t,e)},equals:function(t){return Y(this,t)},entrySeq:function(){var t=this;if(t._cache)return new T(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(v)},flatMap:function(t,e){return Ee(this,me(this,t,e))},flatten:function(t){return Ee(this,ye(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,r){return X(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=De(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,vr):vr)===vr)return e}return n},groupBy:function(t,e){return he(this,t,e)},has:function(t){return this.get(t,vr)!==vr},hasIn:function(t){return this.getIn(t,vr)!==vr},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},keySeq:function(){return this.toSeq().map(Ge).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tr(t):nr)},minBy:function(t,e){return we(this,e?tr(e):nr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,de(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Ee(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,_e(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ir(this))}});var an=e.prototype;an[sr]=!0,an[Er]=an.values,an.__toJS=an.toArray,an.__toStringMapper=er,an.inspect=an.toSource=function(){return this.toString()},an.chain=an.flatMap,an.contains=an.includes,Ye(r,{flip:function(){return Ee(this,ae(this))},mapEntries:function(t,e){var r=this,n=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Ee(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var sn=r.prototype;return sn[cr]=!0,sn[Er]=an.entries,sn.__toJS=an.toObject,sn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+er(t)},Ye(n,{toKeyedSeq:function(){return new ne(this,!1)},filter:function(t,e){return Ee(this,fe(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ce(this,!1))},slice:function(t,e){return Ee(this,pe(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=m(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ee(this,1===r?n:n.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ye(this,t,!1))},get:function(t,e){return t=d(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return(t=d(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ee(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Se(this.toSeq(),D.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Ee(this,r)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,de(this,t,e,!1))},zip:function(){return Ee(this,Se(this,rr,[this].concat(p(arguments))))},zipWith:function(t){var e=p(arguments);return e[0]=this,Ee(this,Se(this,t,e))}}),n.prototype[fr]=!0,n.prototype[lr]=!0,Ye(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=an.includes,i.prototype.contains=i.prototype.includes,Ye(B,r.prototype),Ye(D,n.prototype),Ye(q,i.prototype),Ye(et,r.prototype),Ye(rt,n.prototype),Ye(nt,i.prototype),{Iterable:e,Seq:x,Collection:tt,Map:lt,OrderedMap:Zt,List:Pt,Stack:Fe,Set:Ae,OrderedSet:Ne,Record:qe,Range:$,Repeat:G,is:X,fromJS:W}})},function(t,e,r){t.exports=r(3)}]);