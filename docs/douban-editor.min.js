var DoubanEditor=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e){t.exports=React},function(t,e){t.exports=Draft},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),l=n(6),h={position:"absolute",padding:"4px 6px",top:"-25px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",lineHeight:1.2,fontSize:"12px",color:"#fff",whiteSpace:"nowrap",borderRadius:"2px"},p={content:"",position:"absolute",left:"50%",bottom:"-6px",marginLeft:"-6px",width:0,height:0,borderLeft:"6px solid rgba(0, 0, 0, 0)",borderRight:"6px solid rgba(0, 0, 0, 0)",borderTop:"8px solid rgba(0,0,0,0.8)"},_=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onMouseEnter=function(t){n.setState({showTip:!0})},n.onMouseLeave=function(t){n.setState({showTip:!1})},n.state={showTip:!1},n}return u(e,t),s(e,[{key:"getTip",value:function(){if(this.state.showTip)return f.default.createElement("div",{style:h},this.props.tip||this.props.label,f.default.createElement("span",{style:p}))}},{key:"getIcon",value:function(){if(this.props.buttonIcons[this.props.label.toLowerCase()])return this.props.buttonIcons[this.props.label.toLowerCase()]}}]),e}(f.default.Component);_.defaultProps={buttonClass:"db-button",buttonIcons:l.ButtonIcons},_.propTypes={tip:f.default.PropTypes.string,label:f.default.PropTypes.string.isRequired};var d=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onToggle=function(t){t.preventDefault(),n.props.onToggle(n.props.style)},n}return u(e,t),s(e,[{key:"render",value:function(){var t=this.props.buttonClass;return this.props.active&&(t+=" actived"),f.default.createElement("span",{className:t,onMouseDown:this.onToggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),this.getIcon())}}]),e}(_),v=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),s(e,[{key:"clickButton",value:function(){this.props.clickButton&&this.props.clickButton()}},{key:"render",value:function(){return f.default.createElement("span",{className:this.props.buttonClass,onClick:this.clickButton.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),this.getIcon())}}]),e}(_),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),s(e,[{key:"onFileChange",value:function(t){t.preventDefault();for(var e=t.target,n=e.files,r=n.length,i=0;i<r;i++)n[i].thumb=window.URL.createObjectURL(n[i]);n=Array.prototype.slice.call(n,0),n=n.filter(function(t){return/image/i.test(t.type)});var o=[],u=!0,a=!1,s=void 0;try{for(var c,f=n[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var l=c.value;o.push(l)}}catch(t){a=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(a)throw s}}this.props.insertPicture&&this.props.insertPicture(o)}},{key:"clickButton",value:function(t){this.refs[this.props.fileRef].click()}},{key:"render",value:function(){var t={accept:this.props.fileAccept,ref:this.props.fileRef};return f.default.createElement("span",{className:this.props.buttonClass,onClick:this.clickButton.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),f.default.createElement("input",a({type:"file",style:{display:"none"},multiple:!0,onChange:this.onFileChange.bind(this)},t)),this.getIcon())}}]),e}(_);y.defaultProps={buttonClass:"db-button",buttonIcons:l.ButtonIcons,fileRef:"__db_picture_field",fileAccept:""};var m=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),s(e,[{key:"onFileChange",value:function(t){t.preventDefault();var e=t.target,n=e.files,r=(n.length,n[0]);r.thumb=window.URL.createObjectURL(r),this.props.insertVideo&&this.props.insertVideo(r)}},{key:"clickButton",value:function(t){this.refs[this.props.fileRef].click()}},{key:"render",value:function(){var t={accept:this.props.fileAccept,ref:this.props.fileRef};return f.default.createElement("span",{className:this.props.buttonClass,onClick:this.clickButton.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getTip(),f.default.createElement("input",a({type:"file",style:{display:"none"},multiple:!1,onChange:this.onFileChange.bind(this)},t)),this.getIcon())}}]),e}(_);m.defaultProps={buttonClass:"db-button",buttonIcons:l.ButtonIcons,fileRef:"__db_video_field",fileAccept:""},t.exports={BaseButton:_,InlineButton:d,PictureButton:y,VideoButton:m,CommandButton:v}},function(t,e,n){"use strict";var r=n(12);n(13),t.exports={DoubanEditor:r.DoubanEditor}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return"atomic"===t.getType()?{component:l,editable:!1}:null}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),l=(n(1),function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),s(e,[{key:"render",value:function(){var t=this.props.contentState.getLastCreatedEntityKey(),e=this.props.contentState.getEntity(t),n=e.getData(),r=n.src,i=e.getType(),o="";return"audio"===i?o=f.default.createElement("audio",{controls:!0,src:r,className:"db-media db-video"}):"image"===i?o=f.default.createElement("img",{src:r,className:"db-media db-image"}):"video"===i?o=f.default.createElement("video",{controls:!0,src:r,className:"db-media db-audio"}):"dash"===i&&(o=f.default.createElement("div",{className:"db-dash"},f.default.createElement("hr",null))),o}}]),e}(f.default.Component));t.exports={MediaBlock:l,mediaBlockRenderer:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(0),c=r(s),f=(n(1),n(2)),l=[{label:"BOLD",style:"BOLD",tip:"粗体",type:"inline"},{label:"Blockquote",style:"blockquote",tip:"引用",type:"block"},{label:"header",style:"header-four",tip:"小标题",type:"block"},{type:"sep"},{label:"Picture",style:"picture",tip:"上传照片",type:"picture",fileAccept:"image/jpeg,image/jpg,image/gif,image/png"},{label:"Video",style:"video",tip:"插入视频",type:"video",command:"insertVideo",fileAccept:"video/*"},{label:"Link",style:"link",tip:"插入链接",type:"command"},{type:"sep"},{label:"Dash",style:"dash",tip:"分割线",type:"command",command:"insertDashLine"},{label:"Enter",style:"enter",tip:"分行 Shift+回车",type:"command",command:"insertSoftNewLine"},{type:"sep"},{label:"preface",tip:"前言",type:"command",command:"showPreface"},{label:"save",tip:"保存",type:"command",command:"showSaveDialog"}],h=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),a(e,[{key:"getInlineButton",value:function(t){var e=!1;if(this.props.editorState){e=this.props.editorState.getCurrentInlineStyle().has(t.style)}return c.default.createElement(f.InlineButton,{buttonItems:this.props.buttonItems,key:t.label,active:e,label:t.label,tip:t.tip,onToggle:this.props.toggleInlineStyle,style:t.style})}},{key:"getBlockButton",value:function(t){var e=this.props.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return c.default.createElement(f.InlineButton,{buttonItems:this.props.buttonItems,key:t.label,active:t.style===r,label:t.label,tip:t.tip,onToggle:this.props.toggleBlockType,style:t.style})}},{key:"getPictureButton",value:function(t){var e=this.props.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return c.default.createElement(f.PictureButton,{buttonItems:this.props.buttonItems,key:t.label,active:t.style===r,label:t.label,tip:t.tip,insertPicture:this.props.insertPicture,style:t.style,fileAccept:t.fileAccept})}},{key:"getVideoButton",value:function(t){var e=this.props.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return c.default.createElement(f.VideoButton,{buttonItems:this.props.buttonItems,key:t.label,active:t.style===r,label:t.label,tip:t.tip,insertVideo:this.props.insertVideo,style:t.style,fileAccept:t.fileAccept})}},{key:"getButtons",value:function(){for(var t=[],e=0;e<this.props.buttonItems.length;e++){var n=this.props.buttonItems[e];switch(n.type){case"sep":t.push(c.default.createElement("div",{className:"db-sep",key:e}));break;case"block":t.push(this.getBlockButton(n));break;case"inline":t.push(this.getInlineButton(n));break;case"picture":t.push(this.getPictureButton(n));break;case"video":t.push(this.getVideoButton(n));break;case"command":t.push(c.default.createElement(f.CommandButton,{buttonItems:this.props.buttonItems,key:e,label:n.label,tip:n.tip||n.label,clickButton:this.props[n.command],style:n.style}));break;default:console.warn("unsupported button type:",n.type)}}return t}},{key:"render",value:function(){return c.default.createElement("div",{className:this.props.className},this.getButtons())}}]),e}(c.default.Component);h.defaultProps={className:"db-controlbar",buttonItems:l},h.propTypes={buttonIcons:c.default.PropTypes.object,buttonItems:c.default.PropTypes.array},t.exports={BUTTON_ITEMS:l,Controlbar:h}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(0),o=r(i),u=n(9),a=r(u),s={bold:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcBold"}),preface:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcBook"}),dash:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcDash"}),header:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcHeader"}),blockquote:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcQuote"}),link:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcLink"}),picture:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcPicture"}),video:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcVideo"}),save:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcSave"}),enter:o.default.createElement(a.default,{size:20,className:"dbicon",name:"IcEnter"})};t.exports={ButtonIcons:s}},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(10),u=n(4),a=n(8);t.exports={BaseButton:r.BaseButton,InlineButton:r.InlineButton,PictureButton:r.PictureButton,VideoButton:r.VideoButton,CommandButton:r.CommandButton,BUTTON_ITEMS:i.BUTTON_ITEMS,Controlbar:i.Controlbar,blockRenderMap:o.blockRenderMap,MediaBlock:u.MediaBlock,extendedBlockRenderMap:o.extendedBlockRenderMap,mediaBlockRenderer:u.mediaBlockRenderer,icons:r.icons,keyBindingFn:a.keyBindingFn}},function(t,e,n){"use strict";function r(t){return 13===t.keyCode&&t.nativeEvent.shiftKey?"soft-enter":(0,i.getDefaultKeyBinding)(t)}var i=n(1);t.exports={keyBindingFn:r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.IcVideo=e.IcSave=e.IcQuote=e.IcPicture=e.IcLink=e.IcHeader=e.IcEnter=e.IcDash=e.IcBook=e.IcBold=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),a=r(u),s={IcBold:{className:"Icon--IcBold",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M806.711 623.885c-8.536-23.105-20.755-43.076-36.66-59.913-15.903-16.82-34.925-30.624-57.064-41.393-22.14-10.77-47.08-18.187-74.803-22.222v-2.7c25.94-8.986 47.962-20.222 66.084-33.725 18.105-13.486 32.875-28.773 44.278-45.86s19.688-35.741 24.84-55.98c5.135-20.237 7.719-41.375 7.719-63.413 0-27.423-4.318-52.829-12.937-76.201-8.619-23.372-20.889-44.293-36.794-62.73-15.92-18.439-35.26-34.275-58.032-47.545-22.772-13.269-48.096-23.722-75.936-31.373-10.603-2.7-21.89-5.051-33.826-7.085-11.936-2.017-24.874-3.702-38.793-5.051-13.937-1.351-29.191-2.367-45.762-3.035-16.571-.667-35.027-1.017-55.366-1.017H202.17v901.533h229.677c45.146 0 83.856-1.784 116.165-5.385 32.308-3.584 61.732-9.868 88.29-18.854 34.508-11.67 63.382-26.689 86.621-45.093 23.24-18.404 42.045-38.475 56.432-60.247 14.371-21.772 24.657-44.21 30.858-67.315 6.202-23.106 9.302-45.21 9.302-66.315.001-29.604-4.267-55.976-12.803-79.08zm-555.44-504.021l183.192 1.023c30.408 0 56.799-1.03 79.171.988 22.373 2.033 54.341 4.494 71.346 9.428 34.443 10.336 65.361 28.34 85.047 46.171 24.81 22.473 55.676 76.99 54.856 110.238-1.05 42.651-11.967 83.242-34.413 106.798-23.402 24.56-65.801 48.25-103.163 60.765-13.533 4.373-39.194 7.122-54.558 9.102-15.67 2.034-33.202 4.058-54.674 4.058H251.27V119.864zm506.358 621.644c-4.049 15.275-9.705 30.757-18.995 44.363-9.307 13.605-27.722 41.37-42.98 52.595-15.258 11.226-47.159 35.758-69.095 42.916-20.036 6.696-48.447 16.714-77.062 19.805-28.615 3.108-60.635 4.654-94.011 4.654H251.27V533.886h246.735c27.177 0 49.93.73 68.297 2.15 18.366 1.438 34.69 3.818 49.007 7.157 23.837 5.258 47.843 11.642 63.828 21.197 15.969 9.556 39.08 23.727 48.85 36.374 9.769 12.646 17.71 25.376 24.172 40.919 6.36 15.301 9.518 34.095 9.518 52.248-.001 15.754.003 32.302-4.048 47.577z"}))},IcBook:{className:"Icon--IcBook",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M995.904 28.096C977.728 9.984 953.6 0 928 0H640c-42.752 0-82.944 16.64-113.152 46.848-5.568 5.632-10.24 11.84-14.848 18.112-4.608-6.272-9.28-12.48-14.848-18.112C466.944 16.64 426.752 0 384 0H96C70.336 0 46.272 9.984 28.096 28.096S0 70.4 0 96v736c0 25.6 9.984 49.728 28.096 67.904S70.336 928 96 928h288c25.6 0 49.728 9.984 67.904 28.096S480 998.4 480 1024h64c0-25.6 9.984-49.728 28.096-67.904S614.4 928 640 928h288c25.6 0 49.728-9.984 67.904-28.096S1024 857.6 1024 832V96c0-25.6-9.984-49.728-28.096-67.904zM480 896c-27.584-20.736-60.928-32-96-32H96c-8.576 0-16.576-3.328-22.656-9.344S64 840.512 64 832V96c0-8.512 3.328-16.576 9.344-22.656S87.424 64 96 64h288c25.6 0 49.728 9.984 67.904 28.096S480 134.336 480 160v736zm480-64c0 8.512-3.328 16.576-9.344 22.656S936.576 864 928 864H640c-35.136 0-68.416 11.264-96 32V160c0-25.664 9.984-49.728 28.096-67.904S614.4 64 640 64h288c8.576 0 16.576 3.328 22.656 9.344S960 87.488 960 96v736zM128 256h289.344v-64H128v64zm0 160h289.344v-64H128v64zm0 160h289.344v-64H128v64zm0 160h289.344v-64H128v64zm480.32-480h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64zm0 160h289.344v-64H608.32v64z"}))},IcDash:{className:"Icon--IcDash",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M454.4 416v136H0V416h454.4zm569.6 0v136H569.6V416H1024z"}))},IcEnter:{className:"Icon--IcEnter",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M900 386.016v-192q0-16.992-11.488-28.512t-28-11.488T832 165.504t-12 28.512v192q0 92-64.992 156.992T598.016 608h-340l112.992-112q11.008-12 11.008-28.512t-11.488-28-28-11.488-28.512 12L136 618.016q-12 12-12 28.512t12 28.512l183.008 183.008q12 12 28.512 12t28.512-11.488 12-28-12-28.512L262.016 688.032h336q124.992 0 213.504-88.512t88.512-213.504z"}))},IcHeader:{className:"Icon--IcHeader",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M878.597 77.201c14.696-.388 29.985-.876 45.039-1.356 32.651-1.04 66.413-2.116 92.17-2.116V22.564c-26.571 0-60.749 1.089-93.8 2.143-32.657 1.04-66.425 2.117-92.192 2.117-26.356 0-59.643-1.076-91.833-2.116-32.602-1.054-66.316-2.144-93.508-2.144v51.165c26.366 0 59.66 1.077 91.856 2.116 31.06 1.004 63.126 2.04 89.597 2.136-2.859 14.876-5.151 34.465-6.904 60.55-2.66 39.579-2.947 79.777-2.947 95.25l.258 244.25H215.588V274.53c0-2.532.032-6.202.073-10.796.214-24.127.66-74.328-2.13-120.319-1.71-28.202-4.288-49.38-7.626-65.429 25.434-.061 53.153-1.12 79.985-2.146 27.148-1.037 55.22-2.11 80.284-2.11V22.563c-26.04 0-54.61 1.092-82.239 2.149-27.153 1.036-55.233 2.11-80.307 2.11-27.6 0-62.564-1.077-96.377-2.117-34.2-1.053-69.564-2.142-97.952-2.142v51.165c27.6 0 62.565 1.077 96.378 2.117 15.83.489 31.913.983 47.436 1.375 2.94 9.449 7.434 31.025 9.84 78.13 2.133 41.722 1.75 84.791 1.546 107.93-.043 4.788-.076 8.611-.076 11.25v494.75l.605 34.926c.011 4.264.314 11.551.73 21.565.863 20.785 2.168 52.193 1.855 81.148-.258 23.917-1.565 38.299-2.84 46.762-13.396.409-26.706.957-39.787 1.496-25.172 1.036-51.202 2.109-76.54 2.109v51.165c26.392 0 52.956-1.094 78.645-2.152 25.172-1.037 51.201-2.11 76.537-2.11 27.437 0 55.768 1.07 83.167 2.105 28.097 1.06 57.151 2.156 86.005 2.156v-51.165c-27.889 0-56.453-1.079-84.076-2.12-23.678-.894-48.04-1.813-72.248-2.07 1.132-10.17 1.813-22.186 2.144-36.415.76-32.788-.746-69.043-1.743-93.032-.368-8.863-.686-16.517-.686-19.681l-.604-34.908V529.197h600.797l.294 278.41c0 4.72.087 47.349 3.11 89.789 1.685 23.663 3.832 41.72 6.469 55.635-26.67.088-60.693 1.128-93.642 2.135-34.055 1.042-69.27 2.119-95.659 2.119v51.165c27.172 0 62.784-1.089 97.224-2.143 34.047-1.042 69.255-2.117 95.633-2.117 26.702 0 56.506 1.08 85.328 2.122 29.027 1.051 59.044 2.138 86.207 2.138v-51.165c-26.238 0-55.783-1.07-84.357-2.105-12.624-.457-25.432-.92-38.135-1.301-2.376-8.608-6.062-27.787-8.592-68.51-2.355-37.9-2.422-73.795-2.422-77.791l-.605-573.825c0-13.253.225-47.915 2.308-83.446 2.57-43.806 6.518-64.123 9.052-73.106z"}))},IcLink:{className:"Icon--IcLink",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M260.565 982.329c-40.874 0-82.133-12.018-118.186-37.035l-7.595-5.276C40.718 874.695 17.323 745.003 82.645 650.937l198.13-264.363c31.047-44.743 78.535-75.264 133.134-85.106 54.6-9.87 109.753 2.162 155.321 33.807l7.595 5.262c38.684 26.851 67.342 66.503 80.711 111.644 4.452 15.062-4.139 30.891-19.214 35.343-15.047 4.423-30.877-4.125-35.342-19.215-9.828-33.237-30.095-61.269-58.582-81.038l-7.594-5.262c-33.11-22.997-73.188-31.73-112.797-24.562-39.637 7.154-74.126 29.312-97.11 62.407L128.783 684.203c-46.834 67.47-29.852 161.635 38.457 209.08l7.595 5.277c68.28 47.417 162.46 30.464 209.906-37.831l60.53-87.125c8.974-12.872 26.666-16.057 39.594-7.126 12.885 8.974 16.085 26.695 7.125 39.595l-60.53 87.111c-40.291 58.027-105.087 89.145-170.894 89.145z"}),a.default.createElement("path",{d:"M573.113 725.945c-40.917 0-82.261-12.004-118.372-37.063l-7.651-5.334c-38.656-26.851-67.286-66.474-80.626-111.573-4.452-15.075 4.153-30.89 19.214-35.342 15.118-4.452 30.905 4.139 35.342 19.214 9.814 33.209 30.066 61.227 58.553 81.01l7.652 5.333c68.252 47.389 162.432 30.407 209.877-37.888l198.116-264.39c46.848-67.471 29.866-161.636-38.443-209.082l-7.538-5.19c-33.166-23.055-73.201-31.745-112.867-24.62-39.638 7.154-74.126 29.312-97.11 62.408l-60.515 87.11c-8.96 12.914-26.681 16.1-39.58 7.14s-16.1-26.68-7.14-39.58l60.515-87.111c31.645-45.583 79.133-76.103 133.746-85.945 54.585-9.828 109.767 2.176 155.335 33.834l7.524 5.192c94.151 65.393 117.532 195.086 52.195 289.137L743.225 637.596c-39.893 57.416-104.448 88.349-170.112 88.349z"}),a.default.createElement("path",{d:"M750.364 470.84c-2.972 0-5.959-.924-8.519-2.844-6.286-4.707-7.566-13.624-2.844-19.896l7.794-10.383c4.707-6.286 13.639-7.537 19.897-2.844 6.286 4.707 7.566 13.625 2.844 19.897l-7.794 10.382c-2.787 3.74-7.054 5.689-11.378 5.689zM782.89 427.463c-2.972 0-5.958-.924-8.518-2.844-6.287-4.708-7.567-13.625-2.845-19.897l62.948-83.968c15.09-21.732 20.92-48.555 16.128-75.094-4.793-26.552-19.627-49.65-41.785-65.024l-4.878-3.37c-6.457-4.48-8.064-13.34-3.599-19.798 4.452-6.456 13.312-8.078 19.798-3.598l4.892 3.385c28.402 19.726 47.417 49.323 53.561 83.342s-1.337 68.41-21.049 96.797l-63.246 84.394a14.268 14.268 0 0 1-11.406 5.675z"}))},IcPicture:{className:"Icon--IcPicture",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M35.116 123.86v776.28h960.066V123.86H35.116zm919.236 735.45H76.05V164.69h878.303v694.62z"}),a.default.createElement("path",{d:"M330.545 449.68L653.09 801.697l30.187-27.63-69.584-75.928L730.147 572.17l138.35 138.35 28.858-28.958-168.334-168.334-143.059 154.724-254.19-277.42-198.111 198.932 28.96 28.755z"}),a.default.createElement("path",{d:"M576.343 471.272c45.13 0 81.864-36.736 81.864-81.864 0-44.923-36.734-81.558-81.864-81.558-45.128 0-81.865 36.532-81.865 81.558-.102 45.127 36.636 81.864 81.865 81.864zm0-122.49c22.617 0 41.037 18.216 41.037 40.626 0 22.615-18.42 41.034-41.037 41.034-22.615 0-41.035-18.419-41.035-41.034 0-22.412 18.42-40.625 41.035-40.625z"}))},IcQuote:{className:"Icon--IcQuote",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M128 833.088C128 867.84 157.248 896 193.344 896h212.48c36.096 0 65.28-28.16 65.28-62.912V581.376c0-34.752-29.184-62.912-65.28-62.912H300.8a32.064 32.064 0 0 1-32.64-31.488 30.08 30.08 0 0 1 1.472-9.6c23.808-76.16 84.096-137.216 161.408-164.224l.32-.32c23.36-9.6 39.68-32 39.68-57.92 0-34.752-29.184-62.912-65.28-62.912-8.832 0-17.216 1.728-24.896 4.736l-2.944 1.088C231.744 252.736 128 389.568 128 549.888v283.2zm424.832 0c0 34.752 29.248 62.912 65.408 62.912h212.416C866.752 896 896 867.84 896 833.088V581.376c0-34.752-29.248-62.912-65.344-62.912h-104.96a32.064 32.064 0 0 1-32.64-31.488c0-5.824 1.472-9.6 1.472-9.6 23.872-76.16 84.16-137.216 161.408-164.224l.32-.32c23.424-9.6 39.744-32 39.744-57.92C896 220.16 866.752 192 830.656 192c-8.832 0-17.152 1.728-24.832 4.736l-2.944 1.088c-146.304 54.912-250.048 191.744-250.048 352.064v283.2z"}))},IcSave:{className:"Icon--IcSave",viewBox:"0 0 1024 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M931.712 994.939H108.518c-31.636 0-57.349-25.754-57.349-57.344v-824.11c0-31.637 25.708-57.37 57.35-57.37H779.11L989.056 258.56v679.035c0 31.59-25.708 57.344-57.344 57.344zM119.552 105.39c-10.532 0-19.128 8.576-19.128 19.128v801.89c0 10.557 8.601 19.113 19.128 19.113h801.116c10.558 0 19.103-8.561 19.103-19.113V274.39l-179.052-169H119.552z"}),a.default.createElement("path",{d:"M742.15 500.48H199.525V56.115H742.15V500.48zM248.8 451.18H692.88V105.39H248.801v345.79z"}),a.default.createElement("path",{d:"M642.488 376.893h-48.501V130.75h48.501v246.144zM747.407 697.938H217.114c-10.578 0-19.134-13.205-19.134-23.757 0-10.578 8.556-25.303 19.134-25.303h530.288c10.573 0 19.103 14.725 19.103 25.303.005 10.552-8.525 23.757-19.098 23.757zM747.407 796.61H217.114c-10.578 0-19.134-13.173-19.134-23.73s8.556-25.283 19.134-25.283h530.288c10.573 0 19.103 14.725 19.103 25.282s-8.525 23.732-19.098 23.732zM747.407 895.33H217.114c-10.578 0-19.134-13.2-19.134-23.758 0-10.572 8.556-25.303 19.134-25.303h530.288c10.573 0 19.103 14.73 19.103 25.303.005 10.558-8.525 23.757-19.098 23.757z"}))},IcVideo:{className:"Icon--IcVideo",viewBox:"0 0 1309 1024",path:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("style",null)),a.default.createElement("path",{d:"M568.889 682.667c6.827 0 12.771-2.703 17.664-6.685l226.844-141.71c6.827-5.205 11.492-13.028 11.492-22.272 0-12.345-7.936-22.585-18.944-26.539L584.932 346.88c-4.665-3.243-9.956-5.575-16.043-5.575-15.73 0-28.445 12.743-28.445 28.444v284.445c0 15.73 12.715 28.473 28.445 28.473zM1194.667 0H113.777C50.945 0 0 50.944 0 113.778v796.444C0 973.056 50.944 1024 113.778 1024h1080.889c62.833 0 113.777-50.944 113.777-113.778V113.778C1308.444 50.944 1257.5 0 1194.667 0zm-512 56.889h256v113.778h-256V56.889zm-312.89 0h256v113.778h-256V56.889zM56.89 113.778c0-31.403 25.486-56.89 56.889-56.89h199.11v113.779h-256v-56.89zm256 853.333H113.778c-31.403 0-56.89-25.458-56.89-56.889v-56.889h256v113.778zm312.889 0h-256V853.333h256v113.778zm312.889 0h-256V853.333h256v113.778zm312.889-56.889c0 31.431-25.458 56.89-56.89 56.89h-199.11V853.332h256v56.89zm0-113.778H56.889V227.556h1194.667v568.888zm0-625.777h-256V56.889h199.11c31.432 0 56.89 25.486 56.89 56.889v56.889z"}))}},c=function(t){var e=t.name,n=t.size,r=t.className,u=t.style,c=i(t,["name","size","className","style"]),f=s[e];if(!f)throw new Error("Cannot find icon '"+e+"'");return a.default.createElement("svg",o({},c,{width:n,height:n,viewBox:f.viewBox,style:o({},u,{width:n,height:n}),className:(r?r+" ":"")+"Icon "+f.className}),f.path)};c.propTypes={name:u.PropTypes.oneOf(Object.keys(e)),className:u.PropTypes.string,size:u.PropTypes.number,style:u.PropTypes.object},c.defaultProps={size:25},e.default=c;e.IcBold=function(t){return a.default.createElement(c,o({},t,{name:"IcBold"}))},e.IcBook=function(t){return a.default.createElement(c,o({},t,{name:"IcBook"}))},e.IcDash=function(t){return a.default.createElement(c,o({},t,{name:"IcDash"}))},e.IcEnter=function(t){return a.default.createElement(c,o({},t,{name:"IcEnter"}))},e.IcHeader=function(t){return a.default.createElement(c,o({},t,{name:"IcHeader"}))},e.IcLink=function(t){return a.default.createElement(c,o({},t,{name:"IcLink"}))},e.IcPicture=function(t){return a.default.createElement(c,o({},t,{name:"IcPicture"}))},e.IcQuote=function(t){return a.default.createElement(c,o({},t,{name:"IcQuote"}))},e.IcSave=function(t){return a.default.createElement(c,o({},t,{name:"IcSave"}))},e.IcVideo=function(t){return a.default.createElement(c,o({},t,{name:"IcVideo"}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(0),c=r(s),f=n(14),l=r(f),h=n(1),p=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),e}(c.default.Component),_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("pre",{style:{maxWidth:"100%",overflowX:"auto"}},c.default.createElement("code",null,this.props.children))}}]),e}(p),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("blockquote",null,this.props.children)}}]),e}(p),v=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),a(e,[{key:"render",value:function(){return c.default.createElement("figure",null,this.props.children)}}]),e}(p),y=l.default.Map({"code-block":{wrapper:c.default.createElement(_,null)},blockquote:{wrapper:c.default.createElement(d,null)},atomic:{wrapper:c.default.createElement(v,null)}}),m=h.DefaultDraftBlockRenderMap.merge(y);t.exports={CodeWrapper:_,BlockquoteWrapper:d,AtomicWrapper:v,blockRenderMap:y,extendedBlockRenderMap:m}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.getType();return"code-block"===e?"db-code":"blockquote"==e?"db-blockquote":"atomic"==e?"db-atomic":"db-unstyle"}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),l=n(1),h=n(7),p=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.insertPicture=function(t){n._confirmPictureMedia(t)},n.insertVideo=function(t){var e=n.state.editorState,r=e.getCurrentContent(),i=r.createEntity("video","IMMUTABLE",{src:t.thumb,file:t});n.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(e,i.getLastCreatedEntityKey()," ")},function(){setTimeout(function(){return n.focus()},0)})},n.handleReturn=function(t){console.log(t),t.stopPropagation()},n.handleTitleChange=function(t){n.setState({title:t.target.value})},n.insertSoftNewLine=function(){var t=n.state.editorState,e=l.RichUtils.insertSoftNewline(t);e&&n.onChange(e)},n.insertDashLine=function(){var t=n.state.editorState,e=t.getCurrentContent(),r=e.createEntity("dash","IMMUTABLE",{});n.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(t,r.getLastCreatedEntityKey()," ")},function(){setTimeout(function(){return n.focus()},0)})},n.showPreface=function(){},n.showSaveDialog=function(){},n.state={editorState:l.EditorState.createEmpty(),title:n.props.title||"",showURLInput:!1,url:"",urlType:"",prefaceStatus:!1,summary:n.props.summary||"",mentions:[],placeholder:n.props.placeholder||""},n.focus=function(){return n.refs.editor.focus()},n.onChange=function(t){return n.setState({editorState:t})},n.handleKeyCommand=function(t){return n._handleKeyCommand(t)},n.onTab=function(t){return n._onTab(t)},n.onFocus=function(t){return n._onFocus(t)},n.toggleBlockType=function(t){return n._toggleBlockType(t)},n.toggleInlineStyle=function(t){return n._toggleInlineStyle(t)},n.toggleUploadType=function(t){return n._toggleUploadType(t)},n.onURLChange=function(t){return n.setState({urlValue:t.target.value})},n.logState=function(){n.state.editorState.getCurrentContent()},n.confirmMedia=n._confirmMedia.bind(n),n.onURLInputKeyDown=n._onURLInputKeyDown.bind(n),n}return u(e,t),s(e,[{key:"_handleKeyCommand",value:function(t){var e=this.state.editorState,n=void 0;return!!(n="soft-enter"==t?l.RichUtils.insertSoftNewline(e):l.RichUtils.handleKeyCommand(e,t))&&(this.onChange(n),!0)}},{key:"_onFocus",value:function(t){this.setState({editorFocused:!0})}},{key:"_onTab",value:function(t){this.onChange(l.RichUtils.onTab(t,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(t){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_toggleUploadType",value:function(t){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_toggleInlineStyle",value:function(t){this.onChange(l.RichUtils.toggleInlineStyle(this.state.editorState,t))}},{key:"_pictureAppendCallback",value:function(t,e){this.onChange(l.RichUtils.toggleBlockType(this.state.editorState,t))}},{key:"_onURLInputKeyDown",value:function(t){13===t.which&&this._confirmMedia(t)}},{key:"_promptForMedia",value:function(t){var e=this;this.state.editorState;this.setState({showURLInput:!0,urlValue:"",urlType:t},function(){setTimeout(function(){e.refs.url.focus()},0)})}},{key:"_confirmPictureMedia",value:function(t){var e=this;this.state.editorState;t.map(function(t){var n=e.state.editorState,r=n.getCurrentContent(),i=r.createEntity("image","IMMUTABLE",{src:t.thumb,file:t});e.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(n,i.getLastCreatedEntityKey(),t.thumb)},function(){setTimeout(function(){return e.focus()},0)})})}},{key:"_confirmMedia",value:function(t){var e=this;t.preventDefault();var n=this.state,r=n.editorState,i=n.urlValue,o=n.urlType,u=l.Entity.create(o,"IMMUTABLE",{src:i});this.setState({editorState:l.AtomicBlockUtils.insertAtomicBlock(r,u," ")},function(){setTimeout(function(){return e.focus()},0)})}},{key:"showNotification",value:function(t,e){this.props.showNotification&&this.props.showNotification(t,e)}},{key:"getEditor",value:function(){var t=this.state.editorState;return f.default.createElement(l.Editor,{spellCheck:!1,editorState:t,blockRendererFn:h.mediaBlockRenderer,blockStyleFn:a,blockRenderMap:h.extendedBlockRenderMap,handleKeyCommand:this.handleKeyCommand,keyBindingFn:h.keyBindingFn,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,ref:"editor",placeholder:this.props.placeholder})}},{key:"render",value:function(){return f.default.createElement("div",{className:"db-editor"},f.default.createElement("div",{className:"title"},f.default.createElement("input",{type:"text",placeholder:this.props.titlePlaceholder||"",dir:"auto",value:this.state.title,onChange:this.handleTitleChange})),f.default.createElement(h.Controlbar,{toggleInlineStyle:this.toggleInlineStyle,toggleBlockType:this.toggleBlockType,editorState:this.state.editorState,insertPicture:this.insertPicture,insertVideo:this.insertVideo,insertSoftNewLine:this.insertSoftNewLine,insertDashLine:this.insertDashLine,showPreface:this.showPreface,showSaveDialog:this.showSaveDialog,buttonItems:this.props.buttonItems,buttonIcons:this.props.buttonIcons}),f.default.createElement("div",{className:"content"},this.getEditor()))}}]),e}(f.default.Component);p.propTypes={buttonItems:f.default.PropTypes.array,buttonIcons:f.default.PropTypes.object},t.exports={DoubanEditor:p}},function(t,e,n){"use strict";var r=n(11);t.exports={DoubanEditor:r.DoubanEditor}},function(t,e){t.exports={"db-editor":"db-editor","DraftEditor-root":"DraftEditor-root","public-DraftEditorPlaceholder-root":"public-DraftEditorPlaceholder-root","public-DraftEditor-content":"public-DraftEditor-content","db-code":"db-code","db-blockquote":"db-blockquote","db-controlbar":"db-controlbar","db-sep":"db-sep","db-button":"db-button",dbicon:"dbicon",actived:"actived",title:"title","db-atomic":"db-atomic","db-unstyle":"db-unstyle","db-dash":"db-dash"}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:B(t)}function n(t){return u(t)?t:D(t)}function r(t){return a(t)?t:x(t)}function i(t){return o(t)&&!s(t)?t:T(t)}function o(t){return!(!t||!t[cn])}function u(t){return!(!t||!t[fn])}function a(t){return!(!t||!t[ln])}function s(t){return u(t)||a(t)}function c(t){return!(!t||!t[hn])}function f(t){return t.value=!1,t}function l(t){t&&(t.value=!0)}function h(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function _(t){return void 0===t.size&&(t.size=t.__iterate(v)),t.size}function d(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?_(t)+e:e}function v(){return!0}function y(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function m(t,e){return b(t,e,0)}function g(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function I(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function S(){return{value:void 0,done:!0}}function E(t){return!!M(t)}function z(t){return t&&"function"==typeof t.next}function k(t){var e=M(t);return e&&e.call(t)}function M(t){var e=t&&(Sn&&t[Sn]||t[En]);if("function"==typeof e)return e}function O(t){return t&&"number"==typeof t.length}function B(t){return null===t||void 0===t?R():o(t)?t.toSeq():N(t)}function D(t){return null===t||void 0===t?R().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():L(t)}function x(t){return null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():U(t)}function T(t){return(null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t:U(t)).toSetSeq()}function q(t){this._array=t,this.size=t.length}function C(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function j(t){this._iterable=t,this.size=t.length||t.size}function P(t){this._iterator=t,this._iteratorCache=[]}function A(t){return!(!t||!t[kn])}function R(){return Mn||(Mn=new q([]))}function L(t){var e=Array.isArray(t)?new q(t).fromEntrySeq():z(t)?new P(t).fromEntrySeq():E(t)?new j(t).fromEntrySeq():"object"==typeof t?new C(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function U(t){var e=V(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function N(t){var e=V(t)||"object"==typeof t&&new C(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function V(t){return O(t)?new q(t):z(t)?new P(t):E(t)?new j(t):void 0}function K(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var a=i[n?o-u:u];if(e(a[1],r?a[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,n)}function H(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,u=0;return new w(function(){var t=i[n?o-u:u];return u++>o?S():I(e,r?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,n)}function W(t,e){return e?F(e,t,"",{"":t}):J(t)}function F(t,e,n,r){return Array.isArray(e)?t.call(r,n,x(e).map(function(n,r){return F(t,n,r,e)})):Q(e)?t.call(r,n,D(e).map(function(n,r){return F(t,n,r,e)})):e}function J(t){return Array.isArray(t)?x(t).map(J).toList():Q(t)?D(t).map(J).toMap():t}function Q(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Y(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&X(i[1],t)&&(n||X(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var l=!0,h=e.__iterate(function(e,r){if(n?!t.has(e):i?!X(e,t.get(r,yn)):!X(t.get(r,yn),e))return l=!1,!1});return l&&t.size===h}function G(t,e){if(!(this instanceof G))return new G(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(On)return On;On=this}}function Z(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(Z(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Bn)return Bn;Bn=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&((t=t.valueOf())===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>An?ut(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return st(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Un[t];return void 0===e&&(e=at(t),Ln===Rn&&(Ln=0,Un={}),Ln++,Un[t]=e),e}function at(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function st(t){var e;if(Cn&&void 0!==(e=Dn.get(t)))return e;if(void 0!==(e=t[Pn]))return e;if(!qn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Pn]))return e;if(void 0!==(e=ct(t)))return e}if(e=++jn,1073741824&jn&&(jn=0),Cn)Dn.set(t,e);else{if(void 0!==Tn&&Tn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(qn)Object.defineProperty(t,Pn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Pn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Pn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function lt(t){return null===t||void 0===t?It():ht(t)&&!c(t)?t:It().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function ht(t){return!(!t||!t[Nn])}function pt(t,e){this.ownerID=t,this.entries=e}function _t(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function dt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function mt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function gt(t,e){return I(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var i=Object.create(Vn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function It(){return Kn||(Kn=wt(0))}function St(t,e,n){var r,i;if(t._root){var o=f(mn),u=f(gn);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,o,u),!u.value)return t;i=t.size+(o.value?n===yn?-1:1:0)}else{if(n===yn)return t;i=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(i,r):It()}function Et(t,e,n,r,i,o,u,a){return t?t.update(e,n,r,i,o,u,a):o===yn?t:(l(a),l(u),new yt(e,r,[i,o]))}function zt(t){return t.constructor===yt||t.constructor===vt}function kt(t,e,n,r,i){if(t.keyHash===r)return new vt(e,r,[t.entry,i]);var o,u=(0===n?t.keyHash:t.keyHash>>>n)&vn,a=(0===n?r:r>>>n)&vn;return new _t(e,1<<u|1<<a,u===a?[kt(t,e,n+_n,r,i)]:(o=new yt(e,r,i),u<a?[t,o]:[o,t]))}function Mt(t,e,n,r){t||(t=new h);for(var i=new yt(t,ot(n),[n,r]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Ot(t,e,n,r){for(var i=0,o=0,u=new Array(n),a=0,s=1,c=e.length;a<c;a++,s<<=1){var f=e[a];void 0!==f&&a!==r&&(i|=s,u[o++]=f)}return new _t(t,i,u)}function Bt(t,e,n,r,i){for(var o=0,u=new Array(dn),a=0;0!==n;a++,n>>>=1)u[a]=1&n?e[o++]:void 0;return u[r]=i,new dt(t,o+1,u)}function Dt(t,e,r){for(var i=[],u=0;u<r.length;u++){var a=r[u],s=n(a);o(a)||(s=s.map(function(t){return W(t)})),i.push(s)}return qt(t,e,i)}function xt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):X(t,e)?t:e}function Tt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return X(e,i)?e:i}}function qt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,yn,function(t){return t===yn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function Ct(t,e,n,r){var i=t===yn,o=e.next();if(o.done){var u=i?n:t,a=r(u);return a===u?t:a}Z(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?yn:t.get(s,yn),f=Ct(c,e,n,r);return f===c?t:f===yn?t.remove(s):(i?It():t).set(s,f)}function jt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Pt(t,e,n,r){var i=r?t:p(t);return i[e]=n,i}function At(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),u=0,a=0;a<i;a++)a===e?(o[a]=n,u=-1):o[a]=t[a+u];return o}function Rt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,u=0;u<r;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Lt(t){var e=Ht();if(null===t||void 0===t)return e;if(Ut(t))return t;var n=r(t),i=n.size;return 0===i?e:(ft(i),i>0&&i<dn?Kt(0,i,_n,null,new Nt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Ut(t){return!(!t||!t[Jn])}function Nt(t,e){this.array=t,this.ownerID=e}function Vt(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===a?s&&s.array:t&&t.array,i=n>o?0:o-n,c=u-n;return c>dn&&(c=dn),function(){if(i===c)return Yn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var a,s=t&&t.array,c=i>o?0:o-i>>r,f=1+(u-i>>r);return f>dn&&(f=dn),function(){for(;;){if(a){var t=a();if(t!==Yn)return t;a=null}if(c===f)return Yn;var o=e?--f:c++;a=n(s&&s[o],r-_n,i+(o<<r))}}}var o=t._origin,u=t._capacity,a=Gt(u),s=t._tail;return n(t._root,t._level,0)}function Kt(t,e,n,r,i,o,u){var a=Object.create(Qn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=u,a.__altered=!1,a}function Ht(){return Xn||(Xn=Kt(0,0,_n))}function Wt(t,e,n){if((e=d(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Xt(t,e).set(0,n):Xt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=f(gn);return e>=Gt(t._capacity)?r=Ft(r,t.__ownerID,0,e,n,o):i=Ft(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Kt(t._origin,t._capacity,t._level,i,r):t}function Ft(t,e,n,r,i,o){var u=r>>>n&vn,a=t&&u<t.array.length;if(!a&&void 0===i)return t;var s;if(n>0){var c=t&&t.array[u],f=Ft(c,e,n-_n,r,i,o);return f===c?t:(s=Jt(t,e),s.array[u]=f,s)}return a&&t.array[u]===i?t:(l(o),s=Jt(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Jt(t,e){return e&&t&&e===t.ownerID?t:new Nt(t?t.array.slice():[],e)}function Qt(t,e){if(e>=Gt(t._capacity))return t._tail;if(e<1<<t._level+_n){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&vn],r-=_n;return n}}function Xt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new h,i=t._origin,o=t._capacity,u=i+e,a=void 0===n?o:n<0?o+n:i+n;if(u===i&&a===o)return t;if(u>=a)return t.clear();for(var s=t._level,c=t._root,f=0;u+f<0;)c=new Nt(c&&c.array.length?[void 0,c]:[],r),s+=_n,f+=1<<s;f&&(u+=f,i+=f,a+=f,o+=f);for(var l=Gt(o),p=Gt(a);p>=1<<s+_n;)c=new Nt(c&&c.array.length?[c]:[],r),s+=_n;var _=t._tail,d=p<l?Qt(t,a-1):p>l?new Nt([],r):_;if(_&&p>l&&u<o&&_.array.length){c=Jt(c,r);for(var v=c,y=s;y>_n;y-=_n){var m=l>>>y&vn;v=v.array[m]=Jt(v.array[m],r)}v.array[l>>>_n&vn]=_}if(a<o&&(d=d&&d.removeAfter(r,0,a)),u>=p)u-=p,a-=p,s=_n,c=null,d=d&&d.removeBefore(r,0,u);else if(u>i||p<l){for(f=0;c;){var g=u>>>s&vn;if(g!==p>>>s&vn)break;g&&(f+=(1<<s)*g),s-=_n,c=c.array[g]}c&&u>i&&(c=c.removeBefore(r,s,u-f)),c&&p<l&&(c=c.removeAfter(r,s,p-f)),f&&(u-=f,a-=f)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=s,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):Kt(u,a,s,c,d)}function Yt(t,e,n){for(var i=[],u=0,a=0;a<n.length;a++){var s=n[a],c=r(s);c.size>u&&(u=c.size),o(s)||(c=c.map(function(t){return W(t)})),i.push(c)}return u>t.size&&(t=t.setSize(u)),qt(t,e,i)}function Gt(t){return t<dn?0:t-1>>>_n<<_n}function Zt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return ht(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Gn||(Gn=te(It(),Ht()))}function ne(t,e,n){var r,i,o=t._map,u=t._list,a=o.get(e),s=void 0!==a;if(n===yn){if(!s)return t;u.size>=dn&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&a!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===u.size-1?u.pop():u.set(a,void 0))}else if(s){if(n===u.get(a)[1])return t;r=o,i=u.set(a,[e,n])}else r=o.set(e,u.size),i=u.set(u.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function ae(t){var e=Oe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Be,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===In){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?bn:wn,n)},e}function se(t,e,n){var r=Oe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,yn);return o===yn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,u){return r(e.call(n,t,i,u),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(In,i);return new w(function(){var i=o.next();if(i.done)return i;var u=i.value,a=u[0];return I(r,a,e.call(n,u[1],a,t),i)})},r}function ce(t,e){var n=Oe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Be,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function fe(t,e,n,r){var i=Oe(t);return r&&(i.has=function(r){var i=t.get(r,yn);return i!==yn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,yn);return o!==yn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,a=0;return t.__iterate(function(t,o,s){if(e.call(n,t,o,s))return a++,i(t,r?o:a-1,u)},o),a},i.__iteratorUncached=function(i,o){var u=t.__iterator(In,o),a=0;return new w(function(){for(;;){var o=u.next();if(o.done)return o;var s=o.value,c=s[0],f=s[1];if(e.call(n,f,c,t))return I(i,r?c:a++,f,o)}})},i}function le(t,e,n){var r=lt().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function he(t,e,n){var r=u(t),i=(c(t)?Zt():lt()).asMutable();t.__iterate(function(o,u){i.update(e.call(n,o,u,t),function(t){return t=t||[],t.push(r?[u,o]:o),t})});var o=Me(t);return i.map(function(e){return Ee(t,o(e))})}function pe(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),y(e,n,i))return t;var o=m(e,i),u=g(n,i);if(o!==o||u!==u)return pe(t.toSeq().cacheResult(),e,n,r);var a,s=u-o;s===s&&(a=s<0?0:s);var c=Oe(t);return c.size=0===a?a:t.size&&a||void 0,!r&&A(t)&&a>=0&&(c.get=function(e,n){return e=d(this,e),e>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var u=0,s=!0,c=0;return t.__iterate(function(t,n){if(!s||!(s=u++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),u=0,s=0;return new w(function(){for(;u++<o;)i.next();if(++s>a)return S();var t=i.next();return r||e===wn?t:e===bn?I(e,s-1,void 0,t):I(e,s-1,t.value[1],t)})},c}function _e(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var u=0;return t.__iterate(function(t,i,a){return e.call(n,t,i,a)&&++u&&r(t,i,o)}),u},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var u=t.__iterator(In,i),a=!0;return new w(function(){if(!a)return S();var t=u.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?r===In?t:I(r,s,c,t):(a=!1,S())})},r}function de(t,e,n,r){var i=Oe(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,s=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,u)}),s},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(In,o),s=!0,c=0;return new w(function(){var t,o,f;do{if(t=a.next(),t.done)return r||i===wn?t:i===bn?I(i,c++,void 0,t):I(i,c++,t.value[1],t);var l=t.value;o=l[0],f=l[1],s&&(s=e.call(n,f,o,u))}while(s);return i===In?t:I(i,o,f,t)})},i}function ve(t,e){var r=u(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?L(t):U(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var s=i[0];if(s===t||r&&u(s)||a(t)&&a(s))return s}var c=new q(i);return r?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ye(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){function u(t,c){var f=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?u(t,c+1):r(t,n?i:a++,f)===!1&&(s=!0),!s},i)}var a=0,s=!1;return u(t,0),a},r.__iteratorUncached=function(r,i){var u=t.__iterator(r,i),a=[],s=0;return new w(function(){for(;u;){var t=u.next();if(t.done===!1){var c=t.value;if(r===In&&(c=c[1]),e&&!(a.length<e)||!o(c))return n?t:I(r,s++,c,t);a.push(u),u=c.__iterator(r,i)}else u=a.pop()}return S()})},r}function me(t,e,n){var r=Me(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function ge(t,e){var n=Oe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),u=0;return new w(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?I(n,u++,e):I(n,u++,i.value,i)})},n}function be(t,e,n){e||(e=De);var r=u(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?D(o):a(t)?x(o):T(o)}function we(t,e,n){if(e||(e=De),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ie(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ie(e,t,n)?n:t})}function Ie(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Se(t,n,r){var i=Oe(t);return i.size=new q(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),k(i?t.reverse():t)}),u=0,a=!1;return new w(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?S():I(t,u++,n.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return A(t)?e:t.constructor(e)}function ze(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ft(t.size),_(t)}function Me(t){return u(t)?n:a(t)?r:i}function Oe(t){return Object.create((u(t)?D:a(t)?x:T).prototype)}function Be(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):B.prototype.cacheResult.call(this)}function De(t,e){return t>e?1:t<e?-1:0}function xe(t){var n=k(t);if(!n){if(!O(t))throw new TypeError("Expected iterable or array-like: "+t);n=k(e(t))}return n}function Te(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(t);je(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=lt(o)},i=r.prototype=Object.create(Zn);return i.constructor=r,r}function qe(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ce(t){return t._name||t.constructor.name||"Record"}function je(t,e){try{e.forEach(Pe.bind(void 0,t))}catch(t){}}function Pe(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ae(t){return null===t||void 0===t?Ne():Re(t)&&!c(t)?t:Ne().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Re(t){return!(!t||!t[$n])}function Le(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ue(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ne(){return er||(er=Ue(It()))}function Ve(t){return null===t||void 0===t?We():Ke(t)?t:We().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Ke(t){return Re(t)&&c(t)}function He(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function We(){return rr||(rr=He(ee()))}function Fe(t){return null===t||void 0===t?Xe():Je(t)?t:Xe().unshiftAll(t)}function Je(t){return!(!t||!t[ir])}function Qe(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Xe(){return ur||(ur=Qe(0))}function Ye(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Ge(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return p(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=u(t),r=e?1:0;return un(t.__iterate(n?e?function(t,e){r=31*r+an(ot(t),ot(e))|0}:function(t,e){r=r+an(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0}),r)}function un(t,e){return e=xn(e,3432918353),e=xn(e<<15|e>>>-15,461845907),e=xn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=xn(e^e>>>16,2246822507),e=xn(e^e>>>13,3266489909),e=it(e^e>>>16)}function an(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sn=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=a,e.isAssociative=s,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",fn="@@__IMMUTABLE_KEYED__@@",ln="@@__IMMUTABLE_INDEXED__@@",hn="@@__IMMUTABLE_ORDERED__@@",pn="delete",_n=5,dn=1<<_n,vn=dn-1,yn={},mn={value:!1},gn={value:!1},bn=0,wn=1,In=2,Sn="function"==typeof Symbol&&Symbol.iterator,En="@@iterator",zn=Sn||En;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=wn,w.ENTRIES=In,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[zn]=function(){return this},t(B,e),B.of=function(){return B(arguments)},B.prototype.toSeq=function(){return this},B.prototype.toString=function(){return this.__toString("Seq {","}")},B.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},B.prototype.__iterate=function(t,e){return K(this,t,e,!0)},B.prototype.__iterator=function(t,e){return H(this,t,e,!0)},t(D,B),D.prototype.toKeyedSeq=function(){return this},t(x,B),x.of=function(){return x(arguments)},x.prototype.toIndexedSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq [","]")},x.prototype.__iterate=function(t,e){return K(this,t,e,!1)},x.prototype.__iterator=function(t,e){return H(this,t,e,!1)},t(T,B),T.of=function(){return T(arguments)},T.prototype.toSetSeq=function(){return this},B.isSeq=A,B.Keyed=D,B.Set=T,B.Indexed=x;var kn="@@__IMMUTABLE_SEQ__@@";B.prototype[kn]=!0,t(q,x),q.prototype.get=function(t,e){return this.has(t)?this._array[d(this,t)]:e},q.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},q.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?S():I(t,i,n[e?r-i++:i++])})},t(C,D),C.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},C.prototype.has=function(t){return this._object.hasOwnProperty(t)},C.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var u=r[e?i-o:o];if(t(n[u],u,this)===!1)return o+1}return o},C.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var u=r[e?i-o:o];return o++>i?S():I(t,u,n[u])})},C.prototype[hn]=!0,t(j,x),j.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),i=0;if(z(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},j.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!z(r))return new w(S);var i=0;return new w(function(){var e=r.next();return e.done?e:I(t,i++,e.value)})},t(P,x),P.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var u=o.value;if(r[i]=u,t(u,i++,this)===!1)break}return i},P.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return I(t,i,r[i++])})};var Mn;t(G,x),G.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},G.prototype.get=function(t,e){return this.has(t)?this._value:e},G.prototype.includes=function(t){return X(this._value,t)},G.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:new G(this._value,g(e,n)-m(t,n))},G.prototype.reverse=function(){return this},G.prototype.indexOf=function(t){return X(this._value,t)?0:-1},G.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},G.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},G.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?I(t,r++,n._value):S()})},G.prototype.equals=function(t){return t instanceof G?X(this._value,t._value):Y(t)};var On;t($,x),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+d(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return y(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new w(function(){var u=i;return i+=e?-r:r,o>n?S():I(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:Y(this,t)};var Bn;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Dn,xn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Tn=Object.isExtensible,qn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Cn="function"==typeof WeakMap;Cn&&(Dn=new WeakMap);var jn=0,Pn="__immutablehash__";"function"==typeof Symbol&&(Pn=Symbol(Pn));var An=16,Rn=255,Ln=0,Un={};t(lt,et),lt.of=function(){var t=sn.call(arguments,0);return It().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},lt.prototype.toString=function(){return this.__toString("Map {","}")},lt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},lt.prototype.set=function(t,e){return St(this,t,e)},lt.prototype.setIn=function(t,e){return this.updateIn(t,yn,function(){return e})},lt.prototype.remove=function(t){return St(this,t,yn)},lt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yn})},lt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},lt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=Ct(this,xe(t),e,n);return r===yn?void 0:r},lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):It()},lt.prototype.merge=function(){return Dt(this,void 0,arguments)},lt.prototype.mergeWith=function(t){return Dt(this,t,sn.call(arguments,1))},lt.prototype.mergeIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,It(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},lt.prototype.mergeDeep=function(){return Dt(this,xt,arguments)},lt.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Dt(this,Tt(t),e)},lt.prototype.mergeDeepIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,It(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},lt.prototype.sort=function(t){return Zt(be(this,t))},lt.prototype.sortBy=function(t,e){return Zt(be(this,e,t))},lt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},lt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new h)},lt.prototype.asImmutable=function(){return this.__ensureOwner()},lt.prototype.wasAltered=function(){return this.__altered},lt.prototype.__iterator=function(t,e){return new mt(this,t,e)},lt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},lt.isMap=ht;var Nn="@@__IMMUTABLE_MAP__@@",Vn=lt.prototype;Vn[Nn]=!0,Vn[pn]=Vn.remove,Vn.removeIn=Vn.deleteIn,pt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(X(n,i[o][0]))return i[o][1];return r},pt.prototype.update=function(t,e,n,r,i,o,u){for(var a=i===yn,s=this.entries,c=0,f=s.length;c<f&&!X(r,s[c][0]);c++);var h=c<f;if(h?s[c][1]===i:a)return this;if(l(u),(a||!h)&&l(o),!a||1!==s.length){if(!h&&!a&&s.length>=Hn)return Mt(t,s,r,i);var _=t&&t===this.ownerID,d=_?s:p(s);return h?a?c===f-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),_?(this.entries=d,this):new pt(t,d)}},_t.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&vn),o=this.bitmap;return 0==(o&i)?r:this.nodes[jt(o&i-1)].get(t+_n,e,n,r)},_t.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&vn,s=1<<a,c=this.bitmap,f=0!=(c&s);if(!f&&i===yn)return this;var l=jt(c&s-1),h=this.nodes,p=f?h[l]:void 0,_=Et(p,t,e+_n,n,r,i,o,u);if(_===p)return this;if(!f&&_&&h.length>=Wn)return Bt(t,h,c,a,_);if(f&&!_&&2===h.length&&zt(h[1^l]))return h[1^l];if(f&&_&&1===h.length&&zt(_))return _;var d=t&&t===this.ownerID,v=f?_?c:c^s:c|s,y=f?_?Pt(h,l,_,d):Rt(h,l,d):At(h,l,_,d);return d?(this.bitmap=v,this.nodes=y,this):new _t(t,v,y)},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&vn,o=this.nodes[i];return o?o.get(t+_n,e,n,r):r},dt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&vn,s=i===yn,c=this.nodes,f=c[a];if(s&&!f)return this;var l=Et(f,t,e+_n,n,r,i,o,u);if(l===f)return this;var h=this.count;if(f){if(!l&&--h<Fn)return Ot(t,c,h,a)}else h++;var p=t&&t===this.ownerID,_=Pt(c,a,l,p);return p?(this.count=h,this.nodes=_,this):new dt(t,h,_)},vt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(X(n,i[o][0]))return i[o][1];return r},vt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=i===yn;if(n!==this.keyHash)return a?this:(l(u),l(o),kt(this,t,e,n,[r,i]));for(var s=this.entries,c=0,f=s.length;c<f&&!X(r,s[c][0]);c++);var h=c<f;if(h?s[c][1]===i:a)return this;if(l(u),(a||!h)&&l(o),a&&2===f)return new yt(t,this.keyHash,s[1^c]);var _=t&&t===this.ownerID,d=_?s:p(s);return h?a?c===f-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),_?(this.entries=d,this):new vt(t,this.keyHash,d)},yt.prototype.get=function(t,e,n,r){return X(n,this.entry[0])?this.entry[1]:r},yt.prototype.update=function(t,e,n,r,i,o,u){var a=i===yn,s=X(r,this.entry[0]);return(s?i===this.entry[1]:a)?this:(l(u),a?void l(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new yt(t,this.keyHash,[r,i]):(l(o),kt(this,t,e,ot(r),[r,i])))},pt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},_t.prototype.iterate=dt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},yt.prototype.iterate=function(t,e){return t(this.entry)},t(mt,w),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return gt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return gt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return S()};var Kn,Hn=dn/4,Wn=dn/2,Fn=dn/4;t(Lt,nt),Lt.of=function(){return this(arguments)},Lt.prototype.toString=function(){return this.__toString("List [","]")},Lt.prototype.get=function(t,e){if((t=d(this,t))>=0&&t<this.size){t+=this._origin;var n=Qt(this,t);return n&&n.array[t&vn]}return e},Lt.prototype.set=function(t,e){return Wt(this,t,e)},Lt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Lt.prototype.insert=function(t,e){return this.splice(t,0,e)},Lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=_n,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Lt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Xt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Lt.prototype.pop=function(){return Xt(this,0,-1)},Lt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Lt.prototype.shift=function(){return Xt(this,1)},Lt.prototype.merge=function(){return Yt(this,void 0,arguments)},Lt.prototype.mergeWith=function(t){return Yt(this,t,sn.call(arguments,1))},Lt.prototype.mergeDeep=function(){return Yt(this,xt,arguments)},Lt.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Yt(this,Tt(t),e)},Lt.prototype.setSize=function(t){return Xt(this,0,t)},Lt.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:Xt(this,m(t,n),g(e,n))},Lt.prototype.__iterator=function(t,e){var n=0,r=Vt(this,e);return new w(function(){var e=r();return e===Yn?S():I(t,n++,e)})},Lt.prototype.__iterate=function(t,e){for(var n,r=0,i=Vt(this,e);(n=i())!==Yn&&t(n,r++,this)!==!1;);return r},Lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Kt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Lt.isList=Ut;var Jn="@@__IMMUTABLE_LIST__@@",Qn=Lt.prototype;Qn[Jn]=!0,Qn[pn]=Qn.remove,Qn.setIn=Vn.setIn,Qn.deleteIn=Qn.removeIn=Vn.removeIn,Qn.update=Vn.update,Qn.updateIn=Vn.updateIn,Qn.mergeIn=Vn.mergeIn,Qn.mergeDeepIn=Vn.mergeDeepIn,Qn.withMutations=Vn.withMutations,Qn.asMutable=Vn.asMutable,Qn.asImmutable=Vn.asImmutable,Qn.wasAltered=Vn.wasAltered,Nt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&vn;if(r>=this.array.length)return new Nt([],t);var i,o=0===r;if(e>0){var u=this.array[r];if((i=u&&u.removeBefore(t,e-_n,n))===u&&o)return this}if(o&&!i)return this;var a=Jt(this,t);if(!o)for(var s=0;s<r;s++)a.array[s]=void 0;return i&&(a.array[r]=i),a},Nt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&vn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if((i=o&&o.removeAfter(t,e-_n,n))===o&&r===this.array.length-1)return this}var u=Jt(this,t);return u.array.splice(r+1),i&&(u.array[r]=i),u};var Xn,Yn={};t(Zt,lt),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return ne(this,t,e)},Zt.prototype.remove=function(t){return ne(this,t,yn)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Zt.isOrderedMap=$t,Zt.prototype[hn]=!0,Zt.prototype[pn]=Zt.prototype.remove;var Gn;t(re,D),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=se(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ke(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?ke(this):0;return new w(function(){var i=n.next();return i.done?i:I(t,e?--r:r++,i.value,i)})},re.prototype[hn]=!0,t(ie,x),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:I(t,r++,e.value,e)})},t(oe,T),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:I(t,e.value,e.value,e)})},t(ue,D),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){ze(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){ze(r);var i=o(r);return I(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Be,t(Te,et),Te.prototype.toString=function(){return this.__toString(Ce(this)+" {","}")},Te.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Te.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Te.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=qe(this,It()))},Te.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ce(this));if(this._map&&!this._map.has(t)){if(e===this._defaultValues[t])return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:qe(this,n)},Te.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:qe(this,e)},Te.prototype.wasAltered=function(){return this._map.wasAltered()},Te.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Te.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Te.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?qe(this,e,t):(this.__ownerID=t,this._map=e,this)};var Zn=Te.prototype;Zn[pn]=Zn.remove,Zn.deleteIn=Zn.removeIn=Vn.removeIn,Zn.merge=Vn.merge,Zn.mergeWith=Vn.mergeWith,Zn.mergeIn=Vn.mergeIn,Zn.mergeDeep=Vn.mergeDeep,Zn.mergeDeepWith=Vn.mergeDeepWith,Zn.mergeDeepIn=Vn.mergeDeepIn,Zn.setIn=Vn.setIn,Zn.update=Vn.update,Zn.updateIn=Vn.updateIn,Zn.withMutations=Vn.withMutations,Zn.asMutable=Vn.asMutable,Zn.asImmutable=Vn.asImmutable,t(Ae,rt),Ae.of=function(){return this(arguments)},Ae.fromKeys=function(t){return this(n(t).keySeq())},Ae.prototype.toString=function(){return this.__toString("Set {","}")},Ae.prototype.has=function(t){return this._map.has(t)},Ae.prototype.add=function(t){return Le(this,this._map.set(t,!0))},Ae.prototype.remove=function(t){return Le(this,this._map.remove(t))},Ae.prototype.clear=function(){return Le(this,this._map.clear())},Ae.prototype.union=function(){var t=sn.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ae.prototype.intersect=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Ae.prototype.subtract=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Ae.prototype.merge=function(){return this.union.apply(this,arguments)},Ae.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return this.union.apply(this,e)},Ae.prototype.sort=function(t){return Ve(be(this,t))},Ae.prototype.sortBy=function(t,e){return Ve(be(this,e,t))},Ae.prototype.wasAltered=function(){return this._map.wasAltered()},Ae.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Ae.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ae.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ae.isSet=Re;var $n="@@__IMMUTABLE_SET__@@",tr=Ae.prototype;tr[$n]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Vn.withMutations,tr.asMutable=Vn.asMutable,tr.asImmutable=Vn.asImmutable,tr.__empty=Ne,tr.__make=Ue;var er;t(Ve,Ae),Ve.of=function(){return this(arguments)},Ve.fromKeys=function(t){return this(n(t).keySeq())},Ve.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ve.isOrderedSet=Ke;var nr=Ve.prototype;nr[hn]=!0,nr.__empty=We,nr.__make=He;var rr;t(Fe,nt),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("Stack [","]")},Fe.prototype.get=function(t,e){var n=this._head;for(t=d(this,t);n&&t--;)n=n.next;return n?n.value:e},Fe.prototype.peek=function(){return this._head&&this._head.value},Fe.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Qe(t,e)},Fe.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Qe(e,n)},Fe.prototype.pop=function(){return this.slice(1)},Fe.prototype.unshift=function(){return this.push.apply(this,arguments)},Fe.prototype.unshiftAll=function(t){return this.pushAll(t)},Fe.prototype.shift=function(){return this.pop.apply(this,arguments)},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Fe.prototype.slice=function(t,e){if(y(t,e,this.size))return this;var n=m(t,this.size);if(g(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Qe(r,i)},Fe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Fe.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Fe.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,I(t,n++,e)}return S()})},Fe.isStack=Je;var ir="@@__IMMUTABLE_STACK__@@",or=Fe.prototype;or[ir]=!0,or.withMutations=Vn.withMutations,or.asMutable=Vn.asMutable,or.asImmutable=Vn.asImmutable,or.wasAltered=Vn.wasAltered;var ur;e.Iterator=w,Ye(e,{toArray:function(){ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return lt(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Ve(u(this)?this.valueSeq():this)},toSet:function(){return Ae(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fe(u(this)?this.valueSeq():this)},toList:function(){return Lt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ee(this,ve(this,sn.call(arguments,0)))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(In)},every:function(t,e){ft(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ee(this,fe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return Ee(this,se(this,t,e))},reduce:function(t,e,n){ft(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,u){i?(i=!1,r=e):r=t.call(n,r,e,o,u)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ce(this,!0))},slice:function(t,e){return Ee(this,pe(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Ee(this,be(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return _(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return le(this,t,e)},equals:function(t){return Y(this,t)},entrySeq:function(){var t=this;if(t._cache)return new q(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(v)},flatMap:function(t,e){return Ee(this,me(this,t,e))},flatten:function(t){return Ee(this,ye(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,n){return X(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=xe(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,yn):yn)===yn)return e}return r},groupBy:function(t,e){return he(this,t,e)},has:function(t){return this.get(t,yn)!==yn},hasIn:function(t){return this.getIn(t,yn)!==yn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},keySeq:function(){return this.toSeq().map(Ge).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,de(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Ee(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,_e(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ar=e.prototype;ar[cn]=!0,ar[zn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=en,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,Ye(n,{flip:function(){return Ee(this,ae(this))},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var sr=n.prototype;return sr[fn]=!0,sr[zn]=ar.entries,sr.__toJS=ar.toObject,sr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ye(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Ee(this,fe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ce(this,!1))},slice:function(t,e){return Ee(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=m(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ye(this,t,!1))},get:function(t,e){return t=d(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=d(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ee(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Se(this.toSeq(),x.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,de(this,t,e,!1))},zip:function(){return Ee(this,Se(this,nn,[this].concat(p(arguments))))},zipWith:function(t){var e=p(arguments);return e[0]=this,Ee(this,Se(this,t,e))}}),r.prototype[ln]=!0,r.prototype[hn]=!0,Ye(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ar.includes,i.prototype.contains=i.prototype.includes,Ye(D,n.prototype),Ye(x,r.prototype),Ye(T,i.prototype),Ye(et,n.prototype),Ye(nt,r.prototype),Ye(rt,i.prototype),{Iterable:e,Seq:B,Collection:tt,Map:lt,OrderedMap:Zt,List:Lt,Stack:Fe,Set:Ae,OrderedSet:Ve,Record:Te,Range:$,Repeat:G,is:X,fromJS:W}})},function(t,e,n){t.exports=n(3)}]);